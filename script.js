function showFullImage(e){const t=Array.from(document.querySelectorAll("figure.image img")),n=t.map((e=>e.src));let i=n.indexOf(e);const a=document.createElement("div");a.classList.add("image-overlay");const o=document.createElement("div");o.classList.add("image-container");const l=document.createElement("div");let s;l.classList.add("loader");let r=!1;const c=document.createElement("div");c.classList.add("image-counter");const d=document.createElement("div");d.classList.add("tooltip");const u=document.createElement("img");u.style.display="none";let m=0,p=0,h=0;const f=10,g=200;function b(){return window.matchMedia("(max-width: 768px)").matches}u.onload=function(){r=!0,clearTimeout(s),l.style.display="none",u.style.display="block"},u.src=e;const v=document.createElement("button");v.innerHTML="&#10094;",v.classList.add("nav-button","prev");const y=document.createElement("button");y.innerHTML="&#10095;",y.classList.add("nav-button","next");const w=document.createElement("button");function E(e){e>=n.length?e=0:e<0&&(e=n.length-1),i=e,r=!1,u.style.display="none",clearTimeout(s),s=setTimeout((()=>{r||(l.style.display="block")}),100),u.src=n[i],c.textContent=`${i+1}/${n.length}`;const a=t[i];d.textContent=a.alt,i===n.length-1?y.classList.add("last-image"):y.classList.remove("last-image"),0===i?v.classList.add("first-image"):v.classList.remove("first-image")}w.innerHTML="&#10005;",w.classList.add("close-button");let L=!1,$=b()?1.5:2.5;const x=1.5;let M=null,k=0,C=0,H=0,T=!1;function A(){const{clampedX:e,clampedY:t}=function(e,t){const{maxOffsetX:n,maxOffsetY:i}=function(){const e=o.getBoundingClientRect(),t=u.naturalWidth*$,n=u.naturalHeight*$;if(b()){return{maxOffsetX:Math.min(Math.max(0,(t-e.width)/2),u.naturalWidth*$/2),maxOffsetY:Math.min(Math.max(0,(n-e.height)/2),u.naturalHeight*$/2)}}return{maxOffsetX:0,maxOffsetY:u.naturalHeight}}(),a=Math.max(-n,Math.min(n,e)),l=Math.max(-i,Math.min(i,t));return{clampedX:a,clampedY:l}}(k,C);k=e,C=t,u.style.transform=`translate(${k}px, ${C}px) scale(${$})`}function I(){L=!0,a.classList.add("zoomed-mode"),b()?u.style.transformOrigin="center center":u.style.transformOrigin="50% 0%",k=0,C=0,A()}function O(){L=!1,a.classList.remove("zoomed-mode"),u.style.transform="none",$=b()?1.5:2.5}let S=0,B=0;const D=50;function _(e){if(1===e.touches.length){const t=e.touches[0];m=t.clientX,p=t.clientY,h=(new Date).getTime(),S=t.clientX,B=t.clientY;const n=(new Date).getTime(),i=n-H;H=n,i<300?(T=!0,L?O():I()):T=!1}}let q=null,j=null;function N(e){if(!L)return;if(null===q||null===j)return q=e.clientX,void(j=e.clientY);e.clientX;const t=e.clientY-j;q=e.clientX,j=e.clientY,C-=3*t,k=0,A()}function Y(){q=null,j=null}let P=null,X=null;function z(e){if(L&&1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;if(null===P||null===X)return P=t,void(X=n);const i=(t-P)*x,a=(n-X)*x;P=t,X=n,k+=i,C+=a,A()}}function R(e){if(P=null,X=null,M=null,!L){const t=e.changedTouches[0],n=t.clientX,a=t.clientY,l=n-m,s=a-p,r=(new Date).getTime()-h,c=Math.abs(l)<f&&Math.abs(s)<f&&r<g;if(Math.abs(l)>Math.abs(s)&&Math.abs(l)>D)E(l>0?i-1:i+1);else if(!T&&c){const e=o.getBoundingClientRect(),t=n-e.left,a=e.width;t<.2*a?E(i-1):t>.8*a&&E(i+1)}}}function F(){clearTimeout(s),document.removeEventListener("keydown",W),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",Y),o.removeEventListener("touchmove",z,{passive:!1}),o.removeEventListener("touchend",R),document.body.removeChild(a)}function W(e){L?"Escape"===e.key&&F():"ArrowLeft"===e.key?E(i-1):"ArrowRight"===e.key?E(i+1):"Escape"===e.key&&F()}v.addEventListener("click",(e=>{L||(e.stopPropagation(),E(i-1))})),y.addEventListener("click",(e=>{L||(e.stopPropagation(),E(i+1))})),w.addEventListener("click",(e=>{e.stopPropagation(),F()})),document.addEventListener("keydown",W),o.appendChild(l),o.appendChild(u),a.appendChild(c),a.appendChild(d),a.appendChild(v),a.appendChild(o),a.appendChild(y),a.appendChild(w),document.body.appendChild(a),a.addEventListener("click",(e=>{b()||e.target!==a&&e.target!==o||F()})),b()?(u.addEventListener("touchstart",_,{passive:!0}),o.addEventListener("touchmove",z,{passive:!1}),o.addEventListener("touchend",R),o.addEventListener("touchstart",(e=>{2===e.touches.length&&(e.preventDefault(),M=null)}),{passive:!1}),o.addEventListener("touchmove",(function(e){if(b()&&2===e.touches.length){e.preventDefault();const t=e.touches[0],n=e.touches[1],i=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);if(null===M)return void(M=i);const a=i/M;$=Math.min(Math.max($*a,1),3),M=i,A()}}),{passive:!1})):(u.addEventListener("touchstart",_,{passive:!0}),o.addEventListener("touchmove",z,{passive:!1}),o.addEventListener("touchend",R),u.addEventListener("click",(function(e){e.stopPropagation(),L?O():I()})),document.addEventListener("mousemove",N),document.addEventListener("mouseup",Y)),E(i)}function generateVideoHTML(e,t,n,i,a){return`\n    <p class="judulvideo">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Tonton di YouTube">üé¨ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${a}" title="Buka kanal YouTube">üì∫ ${i}</a></span>\n    </p>\n    <div class="video-wrapper">\n        <div class="video-placeholder" \n             data-embed-url="${n}"\n             style="background: #000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n            <div style="text-align: center; color: white;">\n                <div style="font-size: 48px;">‚ñ∂Ô∏è</div>\n                <div>Klik untuk memuat video</div>\n            </div>\n        </div>\n    </div>`}function generateAudioHTML(e,t,n,i,a){return`\n    <p class="judulaudio">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Dengarkan di SoundCloud">üé∂ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${i}" title="Buka kanal SoundCloud">üìª ${n}</a></span>\n    </p>\n    <div class="audio-wrapper">\n        <iframe class="audioiframe"\n            src="${a}"\n            allowfullscreen>\n        </iframe>\n    </div>`}function initializeLazyLoading(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;loadVideo(n),t.unobserve(n)}}))}),{root:null,rootMargin:"50px",threshold:.1});document.querySelectorAll(".video-placeholder").forEach((t=>{e.observe(t),t.addEventListener("click",(()=>loadVideo(t)))}))}function loadVideo(e){const t=e.dataset.embedUrl,n=document.createElement("iframe");n.className="videoiframe",n.src=t,n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",n.referrerPolicy="strict-origin-when-cross-origin",n.playsinline=!0,n.allowFullscreen=!0,e.parentNode.replaceChild(n,e)}function initMenu(e,t){const n=document.getElementById(t),i=document.getElementById(e);if(!n||!i)return void console.error("Menu elements not found");const a=generateHTML(parseMenu(n.textContent));i.innerHTML=a,n.remove();i.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));i.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))}function tryInitMenu(){if("undefined"!=typeof Blogger){const e=setInterval((()=>{const t=document.getElementById("rawMenuList"),n=document.getElementById("menu-container");t&&n&&(clearInterval(e),initMenu("menu-container","rawMenuList"))}),100);setTimeout((()=>clearInterval(e)),1e4)}else document.addEventListener("DOMContentLoaded",(()=>{initMenu("menu-container","rawMenuList")}))}function parseMenu(e){const t=e.trim().split("\n"),n=[];let i=[n];return t.forEach(((e,t)=>{const n=e.trim().match(/^(-+)\s*([^(]+)(?:\(([^)]+)\))?$/);if(!n)return;const a=n[1].length-1,o={title:n[2].trim(),link:n[3]?n[3].trim():"#",children:[]};for(;i.length>a+1;)i.pop();i[a].push(o),i[a+1]=o.children})),n}function generateHTML(e){let t='<ul class="nav">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function generateSubmenu(e){let t='<ul class="submenu">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function toggle(e,t){t.preventDefault(),t.stopPropagation();const n=e.closest(".menu-title"),i=n.closest(".nav-item");if(!i.querySelector(":scope > .submenu")){const e=n.querySelector("a").getAttribute("href");return void(e&&"#"!==e&&(window.location.href=e))}i.classList.contains("expanded")?collapseWithChildren(i):expandSubmenu(i)}function expandSubmenu(e){const t=e.querySelector(":scope > .submenu");if(!t)return;const n=e.parentElement.children;Array.from(n).forEach((t=>{t!==e&&t.classList.contains("nav-item")&&collapseWithChildren(t)})),e.classList.add("expanded"),t.classList.add("open");let i=e.parentElement;for(;i;)i.classList.contains("submenu")&&(i.style.maxHeight="none",i.classList.add("open"),i.parentElement.classList.add("expanded")),i=i.parentElement;const a=window.innerHeight,o=a-t.getBoundingClientRect().top-20,l=getSubmenuFullHeight(t),s=Math.min(o,l);for(t.style.maxHeight=`${s}px`,t.style.opacity="1",i=e.parentElement;i;){if(i.classList.contains("submenu")){const e=getSubmenuFullHeight(i),t=i.getBoundingClientRect().top,n=Math.min(a-t-20,e);i.style.maxHeight=`${n}px`}i=i.parentElement}}function collapseWithChildren(e){const t=e.querySelectorAll(".submenu"),n=[];let i=e.parentElement;for(;i;)i.classList.contains("submenu")&&n.push(i),i=i.parentElement;t.forEach((e=>{e.style.maxHeight="0",e.style.opacity="0",e.closest(".nav-item").classList.remove("expanded")})),t.forEach((e=>{e.addEventListener("transitionend",(function t(n){"max-height"===n.propertyName&&(e.classList.remove("open"),e.removeEventListener("transitionend",t))}),{once:!0})})),n.forEach((e=>{const t=getSubmenuFullHeight(e);e.style.maxHeight=`${t}px`})),e.classList.remove("expanded")}function getSubmenuFullHeight(e){const t=e.cloneNode(!0);t.style.maxHeight="none",t.style.opacity="1",t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";t.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="none",e.style.opacity="1",e.style.display="block"})),document.body.appendChild(t);const n=t.scrollHeight;return document.body.removeChild(t),n}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mantab");e.innerHTML='\n        <div class="tab-wrap">\n            <input type="radio" id="tab1" name="tabGroup1" class="tab">\n            <label for="tab1"><span class="tab-text">Partitur</span><span class="tab-emoji">üéº</span></label>\n            <input type="radio" id="tab2" name="tabGroup1" class="tab">\n            <label for="tab2"><span class="tab-text">Syair</span><span class="tab-emoji">üìñ</span></label>\n            <input type="radio" id="tab3" name="tabGroup1" class="tab">\n            <label for="tab3"><span class="tab-text">Audio/Video</span><span class="tab-emoji">üéß</span></label>\n            <input type="radio" id="tab4" name="tabGroup1" class="tab">\n            <label for="tab4"><span class="tab-text">Unduh</span><span class="tab-emoji">üì•</span></label>\n            <input type="radio" id="tab5" name="tabGroup1" class="tab">\n            <label for="tab5"><span class="tab-text">Detail Lagu</span><span class="tab-emoji">‚ÑπÔ∏è</span></label>\n            \n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n        </div>\n    ';const t={partitur:1,syair:2,media:3,unduh:4,info:5},n={1:"partitur",2:"syair",3:"media",4:"unduh",5:"info"};for(let t=1;t<=5;t++){const n=document.getElementById(`tab${t}-content`).content.cloneNode(!0);e.querySelectorAll(".tab__content")[t-1].appendChild(n)}function i(e){const t=document.getElementById(`tab${e}`);t&&(t.checked=!0)}function a(){const e=window.location.hash.replace("#","");i(e&&t[e]?t[e]:1)}window.addEventListener("hashchange",a),a();e.querySelectorAll(".tab").forEach(((e,t)=>{e.addEventListener("change",(()=>{if(e.checked){const e=t+1;window.location.hash=n[e]}}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imageDataM");if(e){const t=function(e){const t=e.trim().split(/(?=mobile-image-link:)/);let n="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),i=e.substring(0,n).trim(),a=e.substring(n+1).trim();t[i]=a.replace(/^"(.*)"$/,"$1")||null}}));const i=["mobile-image-link","width","height","alt"];for(const e of i)if(!t[e])return void console.error(`Missing required field: ${e}`);const a=t["mobile-image-link"].split("/assets/")[1].split("/")[0],o=t["mobile-image-link"].substring(0,t["mobile-image-link"].lastIndexOf("/"));let l="";t.title&&t.title.trim()&&(l=`<p class="mobile-only"><strong>${t.title}</strong></p>`);const s=`\n                ${l}\n                <figure class="image mobile-only" data-ckbox-resource-id="${a}">\n                    <picture>\n                        <source \n                            sizes="(max-width: ${t.width}px) 100vw, ${t.width}px"\n                            srcset="${function(e,t){const n=Math.max(80,Math.floor(.1*t));let i=[],a=n;for(;a<=t&&i.length<10;)i.push(a),a+=n;return i.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(o,parseInt(t.width))}"\n                            type="image/webp">\n                        <img src="${t["mobile-image-link"]}"\n                             alt="${t.alt}"\n                             width="${t.width}"\n                             height="${t.height}"\n                             onclick="showFullImage(this.src)">\n                    </picture>\n                </figure>`;n+=s})),n}(e.textContent);e.outerHTML=t}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imageData");if(e){const t=function(e){const t=e.trim().split(/(?=original-image-link:)/);let n="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),i=e.substring(0,n).trim(),a=e.substring(n+1).trim();t[i]=a.replace(/^"(.*)"$/,"$1")||null}}));const i=["original-image-link","width","height","alt"];for(const e of i)if(!t[e])return void console.error(`Missing required field: ${e}`);const a=t["original-image-link"].split("/assets/")[1].split("/")[0],o=t["original-image-link"].substring(0,t["original-image-link"].lastIndexOf("/"));let l="";t.title&&t.title.trim()&&(l=`<p><strong>${t.title}</strong></p>`);const s=`\n                ${l}\n                <figure class="image" data-ckbox-resource-id="${a}">\n                    <picture>\n                        <source \n                            sizes="(max-width: ${t.width}px) 100vw, ${t.width}px"\n                            srcset="${function(e,t){const n=Math.max(80,Math.floor(.1*t));let i=[],a=n;for(;a<=t&&i.length<10;)i.push(a),a+=n;return i.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(o,parseInt(t.width))}"\n                            type="image/webp">\n                        <img src="${t["original-image-link"]}"\n                             alt="${t.alt}"\n                             width="${t.width}"\n                             height="${t.height}"\n                             onclick="showFullImage(this.src)">\n                    </picture>\n                </figure>`;n+=s})),n}(e.textContent);e.outerHTML=t}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataSyair"),t=e.textContent.trim().split("\n"),n=document.getElementById("syair-container"),i={REFRAIN:!1,REFREN:!1,ULANGAN:!1,INTRO:!1,CODA:!1,AYAT:!0,BAIT:!0};let a=null,o=null,l=null,s=[];function r(){if(l&&(n.appendChild(l),l=null),o&&s.length>0){const e=document.createElement("li");e.innerHTML=s.join(""),o.appendChild(e),s=[]}o&&(n.appendChild(o),o=null),a=null}function c(e){const t=e.indexOf("/");if(-1!==t){return`<div class="syair-line"><span class="baris1">${e.substring(0,t).trim()}/</span> <span class="baris2">${e.substring(t+1).trim()}</span></div>`}return`<div class="syair-line"><span class="baris1">${e}</span></div>`}t.forEach((function(e){if(!(e=e.trim())&&"list"===a&&s.length>0){const e=document.createElement("li");return e.innerHTML=s.join(""),o.appendChild(e),void(s=[])}if(!e)return void r();const t=e.toUpperCase();let d=!1,u=null;for(let e in i)if(t.startsWith(e+":")){d=!0,u=e;break}if(d){r();const t=document.createElement("p"),c=document.createElement("strong");c.textContent=e,t.appendChild(c),n.appendChild(t),i[u]?(o=document.createElement("ol"),a="list",s=[]):(a="para",l=document.createElement("p"))}else"list"===a?s.push(c(e)):("para"===a||l||(l=document.createElement("p")),l.innerHTML+=c(e))})),r(),e.remove()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".media-source"),t=document.getElementById("media-container");let n="";const i=e.innerHTML.split("\n").map((e=>e.trim())).filter((e=>e));for(let e=0;e<i.length;e+=2){const t=i[e],a=i[e+1];if(t.startsWith("Video:")){const e=t.match(/Video: (.*?) \[(.*?)\]/),i=a.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&i){const[t,a,o]=e,[l,s,r]=i,c=`https://youtube.com/embed/${o}`;n+=generateVideoHTML(a,`https://www.youtube.com/watch?v=${o.split("?")[0]}`,c,s,`https://www.youtube.com/${r}`)}}else if(t.startsWith("Audio:")){const e=t.match(/Audio: (.*?) \[(.*?)\]/),i=a.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&i){const[t,a,o]=e,[l,s,r]=i,c=`https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${o}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;n+=generateAudioHTML(a,`https://soundcloud.com/${r}`,s,`https://soundcloud.com/${r.split("/")[0]}`,c)}}}t.innerHTML=n,e.remove(),initializeLazyLoading()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("download-tab");if(e){const t=function(e){const t=e.trim().split(/(?=unduh-link:)/);let n="",i="",a=0,o="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),i=e.substring(0,n).trim(),a=e.substring(n+1).trim();t[i]=a.replace(/^"(.*)"$/,"$1")||null}}));const l={"unduh-link":t["unduh-link"]||"#","preview-source":t["preview-source"]||"https://placehold.co/200x300",width:t.width||"2481",height:t.height||"3508",alt:t.alt||"No description available",label:t.label||"Download",sub:t.sub||""};if(t["judul-lagu"])return void(i=t["judul-lagu"]);const s=l["preview-source"].substring(0,l["preview-source"].lastIndexOf("/"));""===n&&(n=`\n                <div id="download-section">\n                    <h2>Unduh Partitur</h2>\n                    <p class="unduh-description">\n                    <span class="baris1">Pilih format yang sesuai </span><span class="baris1">untuk mengunduh partitur lagu </span><span class="baris2"><strong>${i}</strong>.</span>\n                    </p>\n                    <div class="download-grid">`),a++;const r=l["unduh-link"].split(";").map((e=>e.trim())),c=r.length>1;o+=c?`<a href="javascript:void(0)" \n                    data-links="${r.join(";")}"\n                    title="${l.alt}" \n                    class="download-item multiple-links">`:`<a href="${l["unduh-link"]}" \n                    target="_blank" \n                    rel="noopener noreferrer" \n                    title="${l.alt}" \n                    class="download-item">`,o+=`\n                    <figure class="unduh-preview">\n                        <picture>\n                            <source sizes="(max-width: ${t.width}px) 100vw, ${t.width}px" \n                                    srcset="${function(e,t){const n=Math.max(80,Math.floor(.1*t));let i=[],a=n;for(;a<=t&&i.length<10;)i.push(a),a+=n;return i.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(s,parseInt(t.width))}"\n                                    type="image/webp">\n                            <img src="${l["preview-source"]}" \n                                 alt="${l.alt}" \n                                 width="${l.width}" \n                                 height="${l.height}">\n                        </picture>\n                    </figure>\n                    <div class="download-text">\n                        <span class="download-label">${l.label}</span>\n                        <span class="download-sub">${l.sub}</span>\n                    </div>\n                </a>`,a%2==0&&(n+=`<div class="download-row">${o}</div>`,o="")})),""!==o&&(n+=`<div class="download-row last-row">${o}</div>`),""!==n&&(n+="</div></div>"),n}(e.textContent);e.outerHTML=t,document.querySelectorAll(".download-item.multiple-links").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();!function(e){const t=window.open("","_blank");t.document.write("\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Preview Images</title>\n                <style>\n                    body { margin: 20px; background: #f5f5f5; }\n                    img { max-width: 100%; height: auto; margin: 10px 0; display: block; }\n                </style>\n            </head>\n            <body>\n        "),e.forEach((e=>{t.document.write(`<img src="${e}" alt="Preview Image">`)})),t.document.write("</body></html>"),t.document.close()}(this.getAttribute("data-links").split(";"))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataTabel"),t=e.textContent.trim().split("\n"),n=document.createElement("table");n.className="infobox";let i=[];t.forEach((e=>{if(e=e.trim())if(/^[A-Z0-9\s]+$/.test(e)&&-1===e.indexOf(":")){const t=document.createElement("tr"),i=document.createElement("th");i.colSpan=2,i.classList.add("category"),i.textContent=e,t.appendChild(i),n.appendChild(t)}else{const t=e.split(":");if(t.length>1){const e=t.shift().trim();let a=t.join(":").trim();a=function(e){let t=e;return t=t.replace(/\[\[(.*?)\]\]/g,((e,t)=>{const n=t;let a=t;const o=a.indexOf("/");return-1!==o&&(a=a.substring(0,o)),a=encodeURIComponent(a).replace(/%20/g,"%20"),i.push(-1!==o?t.substring(0,o):t),`<a href="/search/label/${a}" target="_blank">${n}</a>`})),t=t.replace(/(.*?)\s*\[(https?:\/\/.*?)\]/,((e,t,n)=>`<a href="${n}" target="_blank">${t.trim()}</a>`)),t=t.replace(/(.+?)\s*\{(.*?)\}/g,((e,t,n)=>`<a href="/p/${n}.html" target="_blank">${t.trim()}</a>`)),t}(a);const o=document.createElement("tr"),l=document.createElement("th");l.textContent=e;const s=document.createElement("td");s.innerHTML=a,o.appendChild(l),o.appendChild(s),n.appendChild(o)}}})),document.getElementById("table-container").appendChild(n),e.remove(),console.log("Label:",i.join(","))})),document.addEventListener("DOMContentLoaded",(()=>{const e=["Pembuka","Kyrie","Gloria","Mazmur Tanggapan","Persembahan","Credo","Sanctus","Pater Noster","Agnus Dei","Komuni","Syukur","Penutup"],t=(t,n)=>{const i=t.getAttribute("allowed-labels"),a=n.getAttribute("allowed-labels");return e.indexOf(i)-e.indexOf(a)},n=document.querySelector(".overflowable-contents");if(n){const i=Array.from(n.querySelectorAll(".overflowable-item"));i.forEach((t=>{const n=t.querySelector('a[rel="tag"]');if(n){const i=n.textContent.trim();e.includes(i)&&t.setAttribute("allowed-labels",i)}}));i.filter((e=>e.hasAttribute("allowed-labels"))).sort(t).forEach((e=>{n.appendChild(e)}))}const i=document.querySelector(".byline.post-labels");if(i){const n=Array.from(i.querySelectorAll('a[rel="tag"]'));n.forEach((t=>{const n=t.textContent.trim();e.includes(n)&&t.setAttribute("allowed-labels",n)}));const a=n.filter((e=>e.hasAttribute("allowed-labels"))).sort(t);n.forEach((e=>e.remove())),a.forEach(((e,t)=>{i.appendChild(e)}))}})),tryInitMenu(),document.addEventListener("DOMContentLoaded",(()=>{const e=parseMenu(document.getElementById("rawMenuList").textContent);console.log("Parsed Menu Structure:",JSON.stringify(e,null,2));const t=generateHTML(e);console.log("Generated HTML:",t);const n=document.getElementById("menu-container");n.innerHTML=t,document.getElementById("rawMenuList").remove();n.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));n.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("hymn-data").textContent;let t="",n="";const i=[];e.split("\n").forEach((e=>{if(e=e.trim())if(e.startsWith("Kode Buku:"))n=e.replace("Kode Buku:","").trim();else if(e.startsWith("Bagian:"))t=e.replace("Bagian:","").trim();else if(e.match(/^\d+:/)){const[a,...o]=e.split(":"),l=o.join(":").trim(),s=l.match(/\[(.*?)\]$/);let r=l,c="";s&&(c=s[1],r=l.substring(0,l.indexOf("[")).trim());let d="";const u=r.match(/\((.*?)\)$/);u&&(d=u[1],r=r.substring(0,r.indexOf("(")).trim()),i.push({section:t,number:`${n} ${a.trim()}`,title:r,subtitle:d,link:c})}}));const a=document.createElement("table");a.className="hymn-table";const o=document.createElement("thead");o.innerHTML="\n        <tr>\n            <th>Nomor</th>\n            <th>Judul</th>\n        </tr>\n    ",a.appendChild(o);const l=document.createElement("tbody");let s=null;i.forEach(((e,t)=>{0!==t&&e.section===i[t-1].section||(s=document.createElement("tr"),s.className="section-row",s.innerHTML=`\n                <td colspan="2" class="section-cell">${e.section}</td>\n            `,l.appendChild(s));const n=document.createElement("tr"),a=document.createElement("td");a.className="title-cell";let o="";o=e.link?`<a href="${e.link}" target="_blank">${e.title}</a>`:e.title,e.subtitle&&(o+=` <span class="subtitle">(${e.subtitle})</span>`),a.innerHTML=o,n.innerHTML=`<td class="number-cell">${e.number}</td>`,n.appendChild(a),l.appendChild(n)})),a.appendChild(l);const r=document.createElement("style");r.textContent="\n        .hymn-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 20px 0;\n        }\n        .hymn-table th, .hymn-table td {\n            padding: 8px;\n            border: 1px solid #ddd;\n        }\n        .section-cell {\n            text-align: center;\n            background-color: #f5f5f5;\n            font-weight: bold;\n        }\n        .number-cell {\n            white-space: nowrap;\n        }\n        .title-cell {\n            width: 100%;\n        }\n        .subtitle {\n            color: #666;\n            font-style: italic;\n        }\n        .hymn-table a {\n            color: #0066cc;\n            text-decoration: none;\n        }\n        .hymn-table a:hover {\n            text-decoration: underline;\n        }\n    ";const c=document.getElementById("hymn-data");c.parentNode.insertBefore(r,c),c.parentNode.replaceChild(a,c)})),function(){console.error;console.error=function(...e){}}(),window.onerror=function(e,t,n,i,a){return!0};
