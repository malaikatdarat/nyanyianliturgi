function showFullImage(e){const t=Array.from(document.querySelectorAll(".image-group img")),n=t.map((e=>e.src));let a=n.indexOf(e);const o=document.createElement("div");o.classList.add("image-overlay");const i=document.createElement("div");i.classList.add("image-container");const l=document.createElement("div");let s;l.classList.add("loader");let r=!1;const c=document.createElement("div");c.classList.add("image-counter");const d=document.createElement("div");d.classList.add("tooltip");const u=document.createElement("img");u.style.display="none";let m=0,p=0,h=0;const f=10,g=200;function b(){return window.matchMedia("(max-width: 768px)").matches}u.onload=function(){r=!0,clearTimeout(s),l.style.display="none",u.style.display="block"},u.src=e;const v=document.createElement("button");v.innerHTML="&#10094;",v.classList.add("nav-button","prev");const y=document.createElement("button");y.innerHTML="&#10095;",y.classList.add("nav-button","next");const w=document.createElement("button");function E(e){e>=n.length?e=0:e<0&&(e=n.length-1),a=e,r=!1,u.style.display="none",clearTimeout(s),s=setTimeout((()=>{r||(l.style.display="block")}),100),u.src=n[a],c.textContent=`${a+1}/${n.length}`;const o=t[a];d.textContent=o.alt,a===n.length-1?y.classList.add("last-image"):y.classList.remove("last-image"),0===a?v.classList.add("first-image"):v.classList.remove("first-image")}w.innerHTML="&#10005;",w.classList.add("close-button");let $=!1,L=b()?1.5:2.5;const x=1.5;let k=null,C=0,M=0,A=0,T=!1;function S(){const{clampedX:e,clampedY:t}=function(e,t){const{maxOffsetX:n,maxOffsetY:a}=function(){const e=i.getBoundingClientRect(),t=u.naturalWidth*L,n=u.naturalHeight*L;if(b()){return{maxOffsetX:Math.min(Math.max(0,(t-e.width)/2),u.naturalWidth*L/2),maxOffsetY:Math.min(Math.max(0,(n-e.height)/2),u.naturalHeight*L/2)}}return{maxOffsetX:0,maxOffsetY:u.naturalHeight}}(),o=Math.max(-n,Math.min(n,e)),l=Math.max(-a,Math.min(a,t));return{clampedX:o,clampedY:l}}(C,M);C=e,M=t,u.style.transform=`translate(${C}px, ${M}px) scale(${L})`}function H(){$=!0,o.classList.add("zoomed-mode"),b()?u.style.transformOrigin="center center":u.style.transformOrigin="50% 0%",C=0,M=0,S()}function I(){$=!1,o.classList.remove("zoomed-mode"),u.style.transform="none",L=b()?1.5:2.5}let B=0,O=0;const _=50;function q(e){if(1===e.touches.length){const t=e.touches[0];m=t.clientX,p=t.clientY,h=(new Date).getTime(),B=t.clientX,O=t.clientY;const n=(new Date).getTime(),a=n-A;A=n,a<300?(T=!0,$?I():H()):T=!1}}let j=null,D=null;function N(e){if(!$)return;if(null===j||null===D)return j=e.clientX,void(D=e.clientY);e.clientX;const t=e.clientY-D;j=e.clientX,D=e.clientY,M-=3*t,C=0,S()}function P(){j=null,D=null}let Y=null,z=null;function W(e){if($&&1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;if(null===Y||null===z)return Y=t,void(z=n);const a=(t-Y)*x,o=(n-z)*x;Y=t,z=n,C+=a,M+=o,S()}}function X(e){if(Y=null,z=null,k=null,!$){const t=e.changedTouches[0],n=t.clientX,o=t.clientY,l=n-m,s=o-p,r=(new Date).getTime()-h,c=Math.abs(l)<f&&Math.abs(s)<f&&r<g;if(Math.abs(l)>Math.abs(s)&&Math.abs(l)>_)E(l>0?a-1:a+1);else if(!T&&c){const e=i.getBoundingClientRect(),t=n-e.left,o=e.width;t<.2*o?E(a-1):t>.8*o&&E(a+1)}}}function R(){clearTimeout(s),document.removeEventListener("keydown",F),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",P),i.removeEventListener("touchmove",W,{passive:!1}),i.removeEventListener("touchend",X),document.body.removeChild(o)}function F(e){$?"Escape"===e.key&&R():"ArrowLeft"===e.key?E(a-1):"ArrowRight"===e.key?E(a+1):"Escape"===e.key&&R()}v.addEventListener("click",(e=>{$||(e.stopPropagation(),E(a-1))})),y.addEventListener("click",(e=>{$||(e.stopPropagation(),E(a+1))})),w.addEventListener("click",(e=>{e.stopPropagation(),R()})),document.addEventListener("keydown",F),i.appendChild(l),i.appendChild(u),o.appendChild(c),o.appendChild(d),o.appendChild(v),o.appendChild(i),o.appendChild(y),o.appendChild(w),document.body.appendChild(o),o.addEventListener("click",(e=>{b()||e.target!==o&&e.target!==i||R()})),b()?(u.addEventListener("touchstart",q,{passive:!0}),i.addEventListener("touchmove",W,{passive:!1}),i.addEventListener("touchend",X),i.addEventListener("touchstart",(e=>{2===e.touches.length&&(e.preventDefault(),k=null)}),{passive:!1}),i.addEventListener("touchmove",(function(e){if(b()&&2===e.touches.length){e.preventDefault();const t=e.touches[0],n=e.touches[1],a=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);if(null===k)return void(k=a);const o=a/k;L=Math.min(Math.max(L*o,1),3),k=a,S()}}),{passive:!1})):(u.addEventListener("touchstart",q,{passive:!0}),i.addEventListener("touchmove",W,{passive:!1}),i.addEventListener("touchend",X),u.addEventListener("click",(function(e){e.stopPropagation(),$?I():H()})),document.addEventListener("mousemove",N),document.addEventListener("mouseup",P)),E(a)}function generateVideoHTML(e,t,n,a,o){return`\n    <p class="judulvideo">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Tonton di YouTube">üé¨ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${o}" title="Buka kanal YouTube">üì∫ ${a}</a></span>\n    </p>\n    <div class="video-wrapper">\n        <div class="video-placeholder" \n             data-embed-url="${n}"\n             style="background: #000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n            <div style="text-align: center; color: white;">\n                <div style="font-size: 48px;">‚ñ∂Ô∏è</div>\n                <div>Klik untuk memuat video</div>\n            </div>\n        </div>\n    </div>`}function generateAudioHTML(e,t,n,a,o){return`\n    <p class="judulaudio">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Dengarkan di SoundCloud">üé∂ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${a}" title="Buka kanal SoundCloud">üìª ${n}</a></span>\n    </p>\n    <div class="audio-wrapper">\n        <iframe class="audioiframe"\n            src="${o}"\n            allowfullscreen>\n        </iframe>\n    </div>`}function initializeLazyLoading(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;loadVideo(n),t.unobserve(n)}}))}),{root:null,rootMargin:"50px",threshold:.1});document.querySelectorAll(".video-placeholder").forEach((t=>{e.observe(t),t.addEventListener("click",(()=>loadVideo(t)))}))}function loadVideo(e){const t=e.dataset.embedUrl,n=document.createElement("iframe");n.className="videoiframe",n.src=t,n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",n.referrerPolicy="strict-origin-when-cross-origin",n.playsinline=!0,n.allowFullscreen=!0,e.parentNode.replaceChild(n,e)}function initMenu(e,t){const n=document.getElementById(t),a=document.getElementById(e);if(!n||!a)return void console.error("Menu elements not found");const o=generateHTML(parseMenu(n.textContent));a.innerHTML=o,n.remove();a.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));a.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))}function tryInitMenu(){if("undefined"!=typeof Blogger){const e=setInterval((()=>{const t=document.getElementById("rawMenuList"),n=document.getElementById("menu-container");t&&n&&(clearInterval(e),initMenu("menu-container","rawMenuList"))}),100);setTimeout((()=>clearInterval(e)),1e4)}else document.addEventListener("DOMContentLoaded",(()=>{initMenu("menu-container","rawMenuList")}))}function parseMenu(e){const t=e.trim().split("\n"),n=[];let a=[n];return t.forEach(((e,t)=>{const n=e.trim().match(/^(-+)\s*([^(]+)(?:\(([^)]+)\))?$/);if(!n)return;const o=n[1].length-1,i={title:n[2].trim(),link:n[3]?n[3].trim():"#",children:[]};for(;a.length>o+1;)a.pop();a[o].push(i),a[o+1]=i.children})),n}function generateHTML(e){let t='<ul class="nav">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function generateSubmenu(e){let t='<ul class="submenu">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function toggle(e,t){t.preventDefault(),t.stopPropagation();const n=e.closest(".menu-title"),a=n.closest(".nav-item");if(!a.querySelector(":scope > .submenu")){const e=n.querySelector("a").getAttribute("href");return void(e&&"#"!==e&&(window.location.href=e))}a.classList.contains("expanded")?collapseWithChildren(a):expandSubmenu(a)}function expandSubmenu(e){const t=e.querySelector(":scope > .submenu");if(!t)return;const n=e.parentElement.children;Array.from(n).forEach((t=>{t!==e&&t.classList.contains("nav-item")&&collapseWithChildren(t)})),e.classList.add("expanded"),t.classList.add("open");let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&(a.style.maxHeight="none",a.classList.add("open"),a.parentElement.classList.add("expanded")),a=a.parentElement;const o=window.innerHeight,i=o-t.getBoundingClientRect().top-20,l=getSubmenuFullHeight(t),s=Math.min(i,l);for(t.style.maxHeight=`${s}px`,t.style.opacity="1",a=e.parentElement;a;){if(a.classList.contains("submenu")){const e=getSubmenuFullHeight(a),t=a.getBoundingClientRect().top,n=Math.min(o-t-20,e);a.style.maxHeight=`${n}px`}a=a.parentElement}}function collapseWithChildren(e){const t=e.querySelectorAll(".submenu"),n=[];let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&n.push(a),a=a.parentElement;t.forEach((e=>{e.style.maxHeight="0",e.style.opacity="0",e.closest(".nav-item").classList.remove("expanded")})),t.forEach((e=>{e.addEventListener("transitionend",(function t(n){"max-height"===n.propertyName&&(e.classList.remove("open"),e.removeEventListener("transitionend",t))}),{once:!0})})),n.forEach((e=>{const t=getSubmenuFullHeight(e);e.style.maxHeight=`${t}px`})),e.classList.remove("expanded")}function getSubmenuFullHeight(e){const t=e.cloneNode(!0);t.style.maxHeight="none",t.style.opacity="1",t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";t.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="none",e.style.opacity="1",e.style.display="block"})),document.body.appendChild(t);const n=t.scrollHeight;return document.body.removeChild(t),n}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mantab");e.innerHTML='\n        <div class="tab-wrap">\n            <input type="radio" id="tab1" name="tabGroup1" class="tab">\n            <label for="tab1"><span class="tab-text">Partitur</span><span class="tab-emoji">üéº</span></label>\n            <input type="radio" id="tab2" name="tabGroup1" class="tab">\n            <label for="tab2"><span class="tab-text">Syair</span><span class="tab-emoji">üìñ</span></label>\n            <input type="radio" id="tab3" name="tabGroup1" class="tab">\n            <label for="tab3"><span class="tab-text">Audio/Video</span><span class="tab-emoji">üéß</span></label>\n            <input type="radio" id="tab4" name="tabGroup1" class="tab">\n            <label for="tab4"><span class="tab-text">Unduh</span><span class="tab-emoji">üì•</span></label>\n            <input type="radio" id="tab5" name="tabGroup1" class="tab">\n            <label for="tab5"><span class="tab-text">Detail Lagu</span><span class="tab-emoji">‚ÑπÔ∏è</span></label>\n            \n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n        </div>\n    ';const t={partitur:1,syair:2,media:3,unduh:4,info:5},n={1:"partitur",2:"syair",3:"media",4:"unduh",5:"info"};for(let t=1;t<=5;t++){const n=document.getElementById(`tab${t}-content`).content.cloneNode(!0);e.querySelectorAll(".tab__content")[t-1].appendChild(n)}function a(e){const t=document.getElementById(`tab${e}`);t&&(t.checked=!0)}function o(){const e=window.location.hash.replace("#","");a(e&&t[e]?t[e]:1)}window.addEventListener("hashchange",o),o();e.querySelectorAll(".tab").forEach(((e,t)=>{e.addEventListener("change",(()=>{if(e.checked){const e=t+1;window.location.hash=n[e]}}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=(e,t)=>{if(!e)return null;const n=e.split(/,\s*(?=\d+w\b)/).map((e=>e.trim()));if(0===n.length)return null;const a=n[0],[o,i]=a.split(/\s+(?=\d+w$)/),l=o.match(/^(.*?)(\d+)(\.[^.]+)$/);if(!l)return null;const[s,r,c,d]=l,u=r.replace(/w_\d+$/,"w_");return n.map((e=>{const n=e.split(/\s+(?=\d+w$)/);if(1===n.length&&/\d+w$/.test(n[0])){const e=n[0].replace("w","");return`${t}${u}${e}${d} ${e}w`}return 2===n.length?`${t}${n[0]} ${n[1]}`:null})).filter(Boolean).join(", ")};(()=>{const t=document.getElementById("imageData");if(!t)return;t.outerHTML=function(t){const n=t.trim().split(/(?=image-link:)/),a=[];let o=null;n.forEach((e=>{const t={};e.split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const[n,...a]=e.split(":");t[n.trim()]=a.join(":").trim()}})),t["image-link"]&&t["image-size"]&&t.alt&&(t.title?(o={title:t.title,entries:[t]},a.push(o)):o?o.entries.push(t):(o={title:"Partitur",entries:[t]},a.push(o)))}));let i=`\n        <div class="image-groups-wrapper">\n            <div class="group-buttons-container">\n                ${a.map(((e,t)=>`\n                    <button class="group-button ${0===t?"active":""}" \n                            data-group-index="${t}">\n                        ${e.title}\n                    </button>\n                `)).join("")}\n            </div>\n    <div class="group-dots-container"></div>\n    <div class="group-contents-container">`;return a.forEach(((t,n)=>{i+=`\n            <div class="image-group ${0===n?"active":""}" data-group-index="${n}">\n                ${t.entries.map((t=>{const[n,a]=t["image-size"].split("x"),o=t["image-link"].split("/"),i=o.pop(),l=o.join("/")+"/",s=i.replace(/\.[^/.]+$/,""),r=`${l}${s}/fallback/`,c=`${l}${s}/webp/`,d=e(t["fallback-srcset"],r),u=e(t["webp-srcset"],c),m=i.split(".").pop().toLowerCase();return`\n                    <figure class="image">\n                        <picture>\n                            ${u?`<source srcset="${u}" type="image/webp">`:""}\n                            ${d?`<source srcset="${d}" type="${"png"===m?"image/png":"gif"===m?"image/gif":"image/jpeg"}">`:""}\n                            <img src="${t["image-link"]}"\n                                alt="${t.alt}"\n                                width="${n}"\n                                height="${a}"\n                                loading="lazy"\n                                onclick="showFullImage(this.src)"\n                                style="width:100%;height:auto">\n                        </picture>\n                    </figure>`})).join("")}\n            </div>`})),i+"</div></div>"}(t.textContent);const n=()=>{const e=(()=>{const e=document.querySelector(".group-contents-container");if(!e)return"100vw";const t=e.offsetWidth,n=window.innerWidth;return`(max-width: ${n}px) ${(t/n*100).toFixed(2)}vw, ${t}px`})();document.querySelectorAll(".image-group picture source").forEach((t=>{t.setAttribute("sizes",e)}))};let a;window.addEventListener("resize",(()=>{clearTimeout(a),a=setTimeout(n,250)})),n();const o=document.querySelectorAll(".image-group"),i=document.querySelector(".group-buttons-container"),l=document.querySelector(".group-dots-container");if(o.length<=1)return i.style.display="none",l.style.display="none",void n();l.innerHTML=Array.from(o).map(((e,t)=>`\n            <span class="group-dot ${0===t?"active":""}" data-group-index="${t}"></span>\n        `)).join(""),document.addEventListener("click",(e=>{if(e.target.classList.contains("group-button")||e.target.classList.contains("group-dot")){const t=e.target.dataset.groupIndex,a=document.querySelector(".group-buttons-container"),o=document.querySelector(`.group-button[data-group-index="${t}"]`),i=a.offsetWidth,l=o.offsetWidth,s=o.offsetLeft-i/2+l/2;a.scrollTo({left:s,behavior:"smooth"}),document.querySelectorAll(".group-button, .group-dot").forEach((e=>{e.classList.toggle("active",e.dataset.groupIndex===t)})),document.querySelectorAll(".image-group").forEach((e=>{e.classList.toggle("active",e.dataset.groupIndex===t)})),n()}})),n()})()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataSyair"),t=e.textContent.trim().split("\n"),n=document.getElementById("syair-container"),a={REFRAIN:!1,REFREN:!1,ULANGAN:!1,INTRO:!1,CODA:!1,AYAT:!0,BAIT:!0};let o=null,i=null,l=null,s=[];function r(){if(l&&(n.appendChild(l),l=null),i&&s.length>0){const e=document.createElement("li");e.innerHTML=s.join(""),i.appendChild(e),s=[]}i&&(n.appendChild(i),i=null),o=null}function c(e){const t=e.indexOf("/");if(-1!==t){return`<div class="syair-line"><span class="baris1">${e.substring(0,t).trim()}/</span> <span class="baris2">${e.substring(t+1).trim()}</span></div>`}return`<div class="syair-line"><span class="baris1">${e}</span></div>`}t.forEach((function(e){if(!(e=e.trim())&&"list"===o&&s.length>0){const e=document.createElement("li");return e.innerHTML=s.join(""),i.appendChild(e),void(s=[])}if(!e)return void r();const t=e.toUpperCase();let d=!1,u=null;for(let e in a)if(t.startsWith(e+":")){d=!0,u=e;break}if(d){r();const t=document.createElement("p"),c=document.createElement("strong");c.textContent=e,t.appendChild(c),n.appendChild(t),a[u]?(i=document.createElement("ol"),o="list",s=[]):(o="para",l=document.createElement("p"))}else"list"===o?s.push(c(e)):("para"===o||l||(l=document.createElement("p")),l.innerHTML+=c(e))})),r(),e.remove()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".media-source"),t=document.getElementById("media-container");let n="";const a=e.innerHTML.split("\n").map((e=>e.trim())).filter((e=>e));for(let e=0;e<a.length;e+=2){const t=a[e],o=a[e+1];if(t.startsWith("Video:")){const e=t.match(/Video: (.*?) \[(.*?)\]/),a=o.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&a){const[t,o,i]=e,[l,s,r]=a,c=`https://youtube.com/embed/${i}`;n+=generateVideoHTML(o,`https://www.youtube.com/watch?v=${i.split("?")[0]}`,c,s,`https://www.youtube.com/${r}`)}}else if(t.startsWith("Audio:")){const e=t.match(/Audio: (.*?) \[(.*?)\]/),a=o.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&a){const[t,o,i]=e,[l,s,r]=a,c=`https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${i}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;n+=generateAudioHTML(o,`https://soundcloud.com/${r}`,s,`https://soundcloud.com/${r.split("/")[0]}`,c)}}}t.innerHTML=n,e.remove(),initializeLazyLoading()})),document.addEventListener("DOMContentLoaded",(function(){const e=(e,t)=>{if(!e)return null;const n=e.split(/,\s*(?=\d+w\b)/).map((e=>e.trim()));if(0===n.length)return null;const a=n[0],[o,i]=a.split(/\s+(?=\d+w$)/),l=o.match(/^(.*?)(\d+)(\.[^.]+)$/);if(!l)return null;const[s,r,c,d]=l,u=r.replace(/w_\d+$/,"w_");return n.map((e=>{const n=e.split(/\s+(?=\d+w$)/);if(1===n.length&&/\d+w$/.test(n[0])){const e=n[0].replace("w","");return`${t}${u}${e}${d} ${e}w`}return 2===n.length?`${t}${n[0]} ${n[1]}`:null})).filter(Boolean).join(", ")};const t=document.getElementById("download-tab");if(t){const n=function(t){const n=t.trim().split(/(?=download-link:)/);let a="",o="",i=0,l="";return n.forEach((t=>{if(!t.trim())return;const n={};t.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const t=e.indexOf(":"),a=e.substring(0,t).trim(),o=e.substring(t+1).trim();n[a]=o.replace(/^"(.*)"$/,"$1")||null}}));const s={"download-link":n["download-link"]||"#","preview-source":n["preview-source"]||"https://placehold.co/250x354","preview-size":n["preview-size"]||"2481x3508",alt:n.alt||"No description available",label:n.label||"Download",sub:n.sub||"","fallback-srcset":n["fallback-srcset"]||"","webp-srcset":n["webp-srcset"]||""};if(n["judul-lagu"])return void(o=n["judul-lagu"]);const r=s["preview-source"].split("/"),c=r.pop(),d=r.join("/")+"/",u=c.replace(/\.[^/.]+$/,""),m=`${d}${u}/fallback/`,p=`${d}${u}/webp/`,h=e(s["fallback-srcset"],m),f=e(s["webp-srcset"],p),[g,b]=s["preview-size"].split("x");""===a&&(a=`\n                <div id="download-section">\n                    <h2>Unduh Partitur</h2>\n                    <p class="unduh-description">\n                    <span class="baris1">Pilih format yang sesuai </span><span class="baris1">untuk mengunduh partitur lagu </span><span class="baris2"><strong>${o}</strong>.</span>\n                    </p>\n                    <div class="download-grid">`),i++;const v=s["download-link"].split(";").map((e=>e.trim())),y=v.length>1;l+=y?`<a href="javascript:void(0)" \n                    data-links="${v.join(";")}"\n                    title="${s.alt}" \n                    class="download-item multiple-links">`:`<a href="${s["download-link"]}" \n                    target="_blank" \n                    rel="noopener noreferrer" \n                    title="${s.alt}" \n                    class="download-item">`,l+=`\n                    <figure class="unduh-preview">\n                        <picture>\n                            ${f?`<source srcset="${f}" type="image/webp">`:""}\n                            ${h?`<source srcset="${h}" type="image/jpeg">`:""}\n                            <img src="${s["preview-source"]}" \n                                 alt="${s.alt}" \n                                 width="${g}" \n                                 height="${b}"\n                                 loading="lazy">\n                        </picture>\n                    </figure>\n                    <div class="download-text">\n                        <span class="download-label">${s.label}</span>\n                        <span class="download-sub">${s.sub}</span>\n                    </div>\n                </a>`,i%2==0&&(a+=`<div class="download-row">${l}</div>`,l="")})),""!==l&&(a+=`<div class="download-row last-row">${l}</div>`),""!==a&&(a+="</div></div>"),a}(t.textContent);t.outerHTML=n,document.querySelectorAll(".download-item.multiple-links").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();!function(e){const t=window.open("","_blank");t.document.write("\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Unduh Partitur</title>\n                <style>\n                    body { margin: 20px; background: #f5f5f5; }\n                    img { max-width: 100%; height: auto; margin: 10px 0; display: block; }\n                </style>\n            </head>\n            <body>\n        "),e.forEach((e=>{t.document.write(`<img src="${e}" alt="Preview Image">`)})),t.document.write("</body></html>"),t.document.close()}(this.getAttribute("data-links").split(";"))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataTabel"),t=e.textContent.trim().split("\n"),n=document.createElement("table");n.className="infobox";let a=[];t.forEach((e=>{if(e=e.trim())if(/^[A-Z0-9\s]+$/.test(e)&&-1===e.indexOf(":")){const t=document.createElement("tr"),a=document.createElement("th");a.colSpan=2,a.classList.add("category"),a.textContent=e,t.appendChild(a),n.appendChild(t)}else{const t=e.split(":");if(t.length>1){const e=t.shift().trim();let o=t.join(":").trim();o=function(e){let t=e;return t=t.replace(/\[\[(.*?)\]\]/g,((e,t)=>{const n=t;let o=t;const i=o.indexOf("/");return-1!==i&&(o=o.substring(0,i)),o=encodeURIComponent(o).replace(/%20/g,"%20"),a.push(-1!==i?t.substring(0,i):t),`<a href="https://www.nyanyianliturgi.com/search/label/${o}" target="_blank">${n}</a>`})),t=t.replace(/(.*?)\s*\[(https?:\/\/.*?)\]/,((e,t,n)=>`<a href="${n}" target="_blank">${t.trim()}</a>`)),t=t.replace(/(.+?)\s*\{(.*?)\}/g,((e,t,n)=>`<a href="https://www.nyanyianliturgi.com/p/${n}.html" target="_blank">${t.trim()}</a>`)),t}(o);const i=document.createElement("tr"),l=document.createElement("th");l.textContent=e;const s=document.createElement("td");s.innerHTML=o,i.appendChild(l),i.appendChild(s),n.appendChild(i)}}})),document.getElementById("table-container").appendChild(n),e.remove(),console.log("Label:",a.join(","))})),document.addEventListener("DOMContentLoaded",(()=>{const e=["Pembuka","Kyrie","Gloria","Mazmur Tanggapan","Persembahan","Credo","Sanctus","Pater Noster","Agnus Dei","Komuni","Syukur","Penutup"],t=(t,n)=>{const a=t.getAttribute("allowed-labels"),o=n.getAttribute("allowed-labels");return e.indexOf(a)-e.indexOf(o)},n=document.querySelector(".overflowable-contents");if(n){const a=Array.from(n.querySelectorAll(".overflowable-item"));a.forEach((t=>{const n=t.querySelector('a[rel="tag"]');if(n){const a=n.textContent.trim();e.includes(a)&&t.setAttribute("allowed-labels",a)}}));a.filter((e=>e.hasAttribute("allowed-labels"))).sort(t).forEach((e=>{n.appendChild(e)}))}const a=document.querySelector(".byline.post-labels");if(a){const n=Array.from(a.querySelectorAll('a[rel="tag"]'));n.forEach((t=>{const n=t.textContent.trim();e.includes(n)&&t.setAttribute("allowed-labels",n)}));const o=n.filter((e=>e.hasAttribute("allowed-labels"))).sort(t);n.forEach((e=>e.remove())),o.forEach(((e,t)=>{a.appendChild(e)}))}})),tryInitMenu(),document.addEventListener("DOMContentLoaded",(()=>{const e=parseMenu(document.getElementById("rawMenuList").textContent);console.log("Parsed Menu Structure:",JSON.stringify(e,null,2));const t=generateHTML(e);console.log("Generated HTML:",t);const n=document.getElementById("menu-container");n.innerHTML=t,document.getElementById("rawMenuList").remove();n.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));n.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("hymn-data").textContent;let t="",n="";const a=[];e.split("\n").forEach((e=>{if(e=e.trim())if(e.startsWith("Kode Buku:"))n=e.replace("Kode Buku:","").trim();else if(e.startsWith("Bagian:"))t=e.replace("Bagian:","").trim();else if(e.match(/^\d+:/)){const[o,...i]=e.split(":"),l=i.join(":").trim(),s=l.match(/\[(.*?)\]$/);let r=l,c="";s&&(c=s[1],r=l.substring(0,l.indexOf("[")).trim());let d="";const u=r.match(/\((.*?)\)$/);u&&(d=u[1],r=r.substring(0,r.indexOf("(")).trim()),a.push({section:t,number:`${n} ${o.trim()}`,title:r,subtitle:d,link:c})}}));const o=document.createElement("table");o.className="hymn-table";const i=document.createElement("thead");i.innerHTML="\n        <tr>\n            <th>Nomor</th>\n            <th>Judul</th>\n        </tr>\n    ",o.appendChild(i);const l=document.createElement("tbody");let s=null;a.forEach(((e,t)=>{0!==t&&e.section===a[t-1].section||(s=document.createElement("tr"),s.className="section-row",s.innerHTML=`\n                <td colspan="2" class="section-cell">${e.section}</td>\n            `,l.appendChild(s));const n=document.createElement("tr"),o=document.createElement("td");o.className="title-cell";let i="";i=e.link?`<a href="${e.link}" target="_blank">${e.title}</a>`:e.title,e.subtitle&&(i+=` <span class="subtitle">(${e.subtitle})</span>`),o.innerHTML=i,n.innerHTML=`<td class="number-cell">${e.number}</td>`,n.appendChild(o),l.appendChild(n)})),o.appendChild(l);const r=document.createElement("style");r.textContent="\n        .hymn-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 20px 0;\n        }\n        .hymn-table th, .hymn-table td {\n            padding: 8px;\n            border: 1px solid #ddd;\n        }\n        .section-cell {\n            text-align: center;\n            background-color: #f5f5f5;\n            font-weight: bold;\n        }\n        .number-cell {\n            white-space: nowrap;\n        }\n        .title-cell {\n            width: 100%;\n        }\n        .subtitle {\n            color: #666;\n            font-style: italic;\n        }\n        .hymn-table a {\n            color: #0066cc;\n            text-decoration: none;\n        }\n        .hymn-table a:hover {\n            text-decoration: underline;\n        }\n    ";const c=document.getElementById("hymn-data");c.parentNode.insertBefore(r,c),c.parentNode.replaceChild(o,c)})),function(){console.error;console.error=function(...e){}}(),window.onerror=function(e,t,n,a,o){return!0};
