function showFullImage(e){const t=Array.from(document.querySelectorAll("figure.image img")),n=t.map((e=>e.src));let a=n.indexOf(e);const i=document.createElement("div");i.classList.add("image-overlay");const l=document.createElement("div");l.classList.add("image-container");const o=document.createElement("div");let s;o.classList.add("loader");let r=!1;const c=document.createElement("div");c.classList.add("image-counter");const d=document.createElement("div");d.classList.add("tooltip");const u=document.createElement("img");u.style.display="none";let m=0,p=0,h=0;const f=10,g=200;function b(){return window.matchMedia("(max-width: 768px)").matches}u.onload=function(){r=!0,clearTimeout(s),o.style.display="none",u.style.display="block"},u.src=e;const v=document.createElement("button");v.innerHTML="&#10094;",v.classList.add("nav-button","prev");const y=document.createElement("button");y.innerHTML="&#10095;",y.classList.add("nav-button","next");const E=document.createElement("button");function w(e){if(e>=0&&e<n.length){a=e,r=!1,u.style.display="none",clearTimeout(s),s=setTimeout((()=>{r||(o.style.display="block")}),100),u.src=n[a],c.textContent=`${a+1}/${n.length}`;const i=t[a];d.textContent=i.alt,v.style.visibility=0===a?"hidden":"visible",y.style.visibility=a===n.length-1?"hidden":"visible"}}E.innerHTML="&#10005;",E.classList.add("close-button");let L=!1,$=b()?1.5:2.5;const x=1.5;let M=null,C=0,k=0,H=0,T=!1;function A(){const{clampedX:e,clampedY:t}=function(e,t){const{maxOffsetX:n,maxOffsetY:a}=function(){const e=l.getBoundingClientRect(),t=u.naturalWidth*$,n=u.naturalHeight*$;if(b()){return{maxOffsetX:Math.min(Math.max(0,(t-e.width)/2),u.naturalWidth*$/2),maxOffsetY:Math.min(Math.max(0,(n-e.height)/2),u.naturalHeight*$/2)}}return{maxOffsetX:0,maxOffsetY:u.naturalHeight}}(),i=Math.max(-n,Math.min(n,e)),o=Math.max(-a,Math.min(a,t));return{clampedX:i,clampedY:o}}(C,k);C=e,k=t,u.style.transform=`translate(${C}px, ${k}px) scale(${$})`}function S(){L=!0,i.classList.add("zoomed-mode"),b()?u.style.transformOrigin="center center":u.style.transformOrigin="50% 0%",C=0,k=0,A()}function I(){L=!1,i.classList.remove("zoomed-mode"),u.style.transform="none",$=b()?1.5:2.5}let B=0,O=0;const _=50;function D(e){if(1===e.touches.length){const t=e.touches[0];m=t.clientX,p=t.clientY,h=(new Date).getTime(),B=t.clientX,O=t.clientY;const n=(new Date).getTime(),a=n-H;H=n,a<300?(T=!0,L?I():S()):T=!1}}let q=null,j=null;function Y(e){if(!L)return;if(null===q||null===j)return q=e.clientX,void(j=e.clientY);e.clientX;const t=e.clientY-j;q=e.clientX,j=e.clientY,k-=3*t,C=0,A()}function N(){q=null,j=null}let P=null,X=null;function R(e){if(L&&1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;if(null===P||null===X)return P=t,void(X=n);const a=(t-P)*x,i=(n-X)*x;P=t,X=n,C+=a,k+=i,A()}}function W(e){if(P=null,X=null,M=null,!L){const t=e.changedTouches[0],n=t.clientX,i=t.clientY,o=n-m,s=i-p,r=(new Date).getTime()-h,c=Math.abs(o)<f&&Math.abs(s)<f&&r<g;if(Math.abs(o)>Math.abs(s)&&Math.abs(o)>_)w(o>0?a-1:a+1);else if(!T&&c){const e=l.getBoundingClientRect(),t=n-e.left,i=e.width;t<.2*i?w(a-1):t>.8*i&&w(a+1)}}}function F(){clearTimeout(s),document.removeEventListener("keydown",G),document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",N),l.removeEventListener("touchmove",R,{passive:!1}),l.removeEventListener("touchend",W),document.body.removeChild(i)}function G(e){L?"Escape"===e.key&&F():"ArrowLeft"===e.key?w(a-1):"ArrowRight"===e.key?w(a+1):"Escape"===e.key&&F()}v.addEventListener("click",(e=>{L||(e.stopPropagation(),w(a-1))})),y.addEventListener("click",(e=>{L||(e.stopPropagation(),w(a+1))})),E.addEventListener("click",(e=>{e.stopPropagation(),F()})),document.addEventListener("keydown",G),l.appendChild(o),l.appendChild(u),i.appendChild(c),i.appendChild(d),i.appendChild(v),i.appendChild(l),i.appendChild(y),i.appendChild(E),document.body.appendChild(i),i.addEventListener("click",(e=>{b()||e.target!==i&&e.target!==l||F()})),b()?(u.addEventListener("touchstart",D,{passive:!0}),l.addEventListener("touchmove",R,{passive:!1}),l.addEventListener("touchend",W),l.addEventListener("touchstart",(e=>{2===e.touches.length&&(e.preventDefault(),M=null)}),{passive:!1}),l.addEventListener("touchmove",(function(e){if(b()&&2===e.touches.length){e.preventDefault();const t=e.touches[0],n=e.touches[1],a=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);if(null===M)return void(M=a);const i=a/M;$=Math.min(Math.max($*i,1),3),M=a,A()}}),{passive:!1})):(u.addEventListener("touchstart",D,{passive:!0}),l.addEventListener("touchmove",R,{passive:!1}),l.addEventListener("touchend",W),u.addEventListener("click",(function(e){e.stopPropagation(),L?I():S()})),document.addEventListener("mousemove",Y),document.addEventListener("mouseup",N)),w(a)}function generateVideoHTML(e,t,n,a,i){return`\n    <p class="judulvideo">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Tonton di YouTube">🎬 ${e}</a></span>\n\t<span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${i}" title="Buka kanal YouTube">📺 ${a}</a></span>\n    </p>\n    <div class="video-wrapper">\n        <iframe class="videoiframe"\n            src="${n}"\n\t    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" \n            playsinline\n\t    allowfullscreen>\n        </iframe>\n    </div>`}function generateAudioHTML(e,t,n,a,i){return`\n    <p class="judulaudio">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Dengarkan di SoundCloud">🎶 ${e}</a></span>\n\t<span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${a}" title="Buka kanal SoundCloud">📻 ${n}</a></span>\n    </p>\n    <div class="audio-wrapper">\n        <iframe class="audioiframe"\n            src="${i}"\n            allowfullscreen>\n        </iframe>\n    </div>`}function initMenu(e,t){const n=document.getElementById(t),a=document.getElementById(e);if(!n||!a)return void console.error("Menu elements not found");const i=generateHTML(parseMenu(n.textContent));a.innerHTML=i,n.remove();a.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));a.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))}function tryInitMenu(){if("undefined"!=typeof Blogger){const e=setInterval((()=>{const t=document.getElementById("rawMenuList"),n=document.getElementById("menu-container");t&&n&&(clearInterval(e),initMenu("menu-container","rawMenuList"))}),100);setTimeout((()=>clearInterval(e)),1e4)}else document.addEventListener("DOMContentLoaded",(()=>{initMenu("menu-container","rawMenuList")}))}function parseMenu(e){const t=e.trim().split("\n"),n=[];let a=[n];return t.forEach(((e,t)=>{const n=e.trim().match(/^(-+)\s*([^(]+)(?:\(([^)]+)\))?$/);if(!n)return;const i=n[1].length-1,l={title:n[2].trim(),link:n[3]?n[3].trim():"#",children:[]};for(;a.length>i+1;)a.pop();a[i].push(l),a[i+1]=l.children})),n}function generateHTML(e){let t='<ul class="nav">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function generateSubmenu(e){let t='<ul class="submenu">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function toggle(e,t){t.preventDefault(),t.stopPropagation();const n=e.closest(".menu-title"),a=n.closest(".nav-item");if(!a.querySelector(":scope > .submenu")){const e=n.querySelector("a").getAttribute("href");return void(e&&"#"!==e&&(window.location.href=e))}a.classList.contains("expanded")?collapseWithChildren(a):expandSubmenu(a)}function expandSubmenu(e){const t=e.querySelector(":scope > .submenu");if(!t)return;const n=e.parentElement.children;Array.from(n).forEach((t=>{t!==e&&t.classList.contains("nav-item")&&collapseWithChildren(t)})),e.classList.add("expanded"),t.classList.add("open");let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&(a.style.maxHeight="none",a.classList.add("open"),a.parentElement.classList.add("expanded")),a=a.parentElement;const i=window.innerHeight,l=i-t.getBoundingClientRect().top-20,o=getSubmenuFullHeight(t),s=Math.min(l,o);for(t.style.maxHeight=`${s}px`,t.style.opacity="1",a=e.parentElement;a;){if(a.classList.contains("submenu")){const e=getSubmenuFullHeight(a),t=a.getBoundingClientRect().top,n=Math.min(i-t-20,e);a.style.maxHeight=`${n}px`}a=a.parentElement}}function collapseWithChildren(e){const t=e.querySelectorAll(".submenu"),n=[];let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&n.push(a),a=a.parentElement;t.forEach((e=>{e.style.maxHeight="0",e.style.opacity="0",e.closest(".nav-item").classList.remove("expanded")})),t.forEach((e=>{e.addEventListener("transitionend",(function t(n){"max-height"===n.propertyName&&(e.classList.remove("open"),e.removeEventListener("transitionend",t))}),{once:!0})})),n.forEach((e=>{const t=getSubmenuFullHeight(e);e.style.maxHeight=`${t}px`})),e.classList.remove("expanded")}function getSubmenuFullHeight(e){const t=e.cloneNode(!0);t.style.maxHeight="none",t.style.opacity="1",t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";t.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="none",e.style.opacity="1",e.style.display="block"})),document.body.appendChild(t);const n=t.scrollHeight;return document.body.removeChild(t),n}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mantab");e.innerHTML='\n        <div class="tab-wrap">\n            <input type="radio" id="tab1" name="tabGroup1" class="tab">\n            <label for="tab1"><span class="tab-text">Partitur</span><span class="tab-emoji">🎼</span></label>\n            <input type="radio" id="tab2" name="tabGroup1" class="tab">\n            <label for="tab2"><span class="tab-text">Syair</span><span class="tab-emoji">📖</span></label>\n            <input type="radio" id="tab3" name="tabGroup1" class="tab">\n            <label for="tab3"><span class="tab-text">Audio/Video</span><span class="tab-emoji">🎧</span></label>\n            <input type="radio" id="tab4" name="tabGroup1" class="tab">\n            <label for="tab4"><span class="tab-text">Unduh</span><span class="tab-emoji">📥</span></label>\n            <input type="radio" id="tab5" name="tabGroup1" class="tab">\n            <label for="tab5"><span class="tab-text">Detail Lagu</span><span class="tab-emoji">ℹ️</span></label>\n            \n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n        </div>\n    ';const t={partitur:1,syair:2,media:3,unduh:4,info:5},n={1:"partitur",2:"syair",3:"media",4:"unduh",5:"info"};for(let t=1;t<=5;t++){const n=document.getElementById(`tab${t}-content`).content.cloneNode(!0);e.querySelectorAll(".tab__content")[t-1].appendChild(n)}function a(e){const t=document.getElementById(`tab${e}`);t&&(t.checked=!0)}function i(){const e=window.location.hash.replace("#","");a(e&&t[e]?t[e]:1)}window.addEventListener("hashchange",i),i();e.querySelectorAll(".tab").forEach(((e,t)=>{e.addEventListener("change",(()=>{if(e.checked){const e=t+1;window.location.hash=n[e]}}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imageData");if(e){const t=function(e){const t=e.trim().split(/(?=original-image-link:)/);let n="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),a=e.substring(0,n).trim(),i=e.substring(n+1).trim();t[a]=i.replace(/^"(.*)"$/,"$1")||null}}));const a=["original-image-link","width","height","alt"];for(const e of a)if(!t[e])return void console.error(`Missing required field: ${e}`);const i=t["original-image-link"].split("/assets/")[1].split("/")[0],l=t["original-image-link"].substring(0,t["original-image-link"].lastIndexOf("/"));let o="";t.title&&t.title.trim()&&(o=`<p><strong>${t.title}</strong></p>`);const s=`\n                ${o}\n                <figure class="image" data-ckbox-resource-id="${i}">\n                    <picture>\n                        <source \n                            sizes="(max-width: ${t.width}px) 100vw, ${t.width}px"\n                            srcset="${function(e,t){const n=Math.max(80,Math.floor(.1*t));let a=[],i=n;for(;i<=t&&a.length<10;)a.push(i),i+=n;return a.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(l,parseInt(t.width))}"\n                            type="image/webp">\n                        <img src="${t["original-image-link"]}"\n                             alt="${t.alt}"\n                             width="${t.width}"\n                             height="${t.height}"\n                             onclick="showFullImage(this.src)">\n                    </picture>\n                </figure>`;n+=s})),n}(e.textContent);e.outerHTML=t}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataSyair"),t=e.textContent.trim().split("\n"),n=document.getElementById("syair-container"),a={REFRAIN:!1,REFREN:!1,ULANGAN:!1,AYAT:!0,BAIT:!0};let i=null,l=null,o=null,s=[];function r(){if(o&&(n.appendChild(o),o=null),l&&s.length>0){const e=document.createElement("li");e.innerHTML=s.join(""),l.appendChild(e),s=[]}l&&(n.appendChild(l),l=null),i=null}function c(e){const t=e.indexOf("/");if(-1!==t){return`<div class="syair-line"><span class="baris1">${e.substring(0,t).trim()}/</span> <span class="baris2">${e.substring(t+1).trim()}</span></div>`}return`<div class="syair-line"><span class="baris1">${e}</span></div>`}t.forEach((function(e){if(!(e=e.trim())&&"list"===i&&s.length>0){const e=document.createElement("li");return e.innerHTML=s.join(""),l.appendChild(e),void(s=[])}if(!e)return void r();const t=e.toUpperCase();let d=!1,u=null;for(let e in a)if(t.startsWith(e+":")){d=!0,u=e;break}if(d){r();const t=document.createElement("p"),c=document.createElement("strong");c.textContent=e,t.appendChild(c),n.appendChild(t),a[u]?(l=document.createElement("ol"),i="list",s=[]):(i="para",o=document.createElement("p"))}else"list"===i?s.push(c(e)):("para"===i||o||(o=document.createElement("p")),o.innerHTML+=c(e))})),r(),e.remove()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".media-source"),t=document.getElementById("media-container");let n="";const a=e.innerHTML.split("\n").map((e=>e.trim())).filter((e=>e));for(let e=0;e<a.length;e+=2){const t=a[e],i=a[e+1];if(t.startsWith("Video:")){const e=t.match(/Video: (.*?) \[(.*?)\]/),a=i.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&a){const[t,i,l]=e,[o,s,r]=a,c=`https://youtube.com/embed/${l}`;n+=generateVideoHTML(i,`https://www.youtube.com/watch?v=${l.split("?")[0]}`,c,s,`https://www.youtube.com/${r}`)}}else if(t.startsWith("Audio:")){const e=t.match(/Audio: (.*?) \[(.*?)\]/),a=i.match(/Kanal: (.*?) \[(.*?)\]/);if(e&&a){const[t,i,l]=e,[o,s,r]=a,c=`https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${l}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;n+=generateAudioHTML(i,`https://soundcloud.com/${r}`,s,`https://soundcloud.com/${r.split("/")[0]}`,c)}}}t.innerHTML=n,e.remove()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("download-tab");if(e){const t=function(e){const t=e.trim().split(/(?=unduh-link:)/);let n="",a="",i=0,l="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),a=e.substring(0,n).trim(),i=e.substring(n+1).trim();t[a]=i.replace(/^"(.*)"$/,"$1")||null}}));const o={"unduh-link":t["unduh-link"]||"#","preview-source":t["preview-source"]||"https://placehold.co/200x300",width:t.width||"2481",height:t.height||"3508",alt:t.alt||"No description available",label:t.label||"Download",sub:t.sub||""};if(t["judul-lagu"])return void(a=t["judul-lagu"]);const s=o["preview-source"].substring(0,o["preview-source"].lastIndexOf("/"));""===n&&(n=`\n                <div id="download-section">\n                    <h2>Unduh Partitur</h2>\n                    <p class="unduh-description">\n                    <span class="baris1">Pilih format yang sesuai </span><span class="baris1">untuk mengunduh partitur lagu </span><span class="baris2"><strong>${a}</strong>.</span>\n                    </p>\n                    <div class="download-grid">`),i++;const r=o["unduh-link"].split(";").map((e=>e.trim())),c=r.length>1;l+=c?`<a href="javascript:void(0)" \n                    data-links="${r.join(";")}"\n                    title="${o.alt}" \n                    class="download-item multiple-links">`:`<a href="${o["unduh-link"]}" \n                    target="_blank" \n                    rel="noopener noreferrer" \n                    title="${o.alt}" \n                    class="download-item">`,l+=`\n                    <figure class="unduh-preview">\n                        <picture>\n                            <source sizes="(max-width: ${t.width}px) 100vw, ${t.width}px" \n                                    srcset="${function(e,t){const n=Math.max(80,Math.floor(.1*t));let a=[],i=n;for(;i<=t&&a.length<10;)a.push(i),i+=n;return a.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(s,parseInt(t.width))}"\n                                    type="image/webp">\n                            <img src="${o["preview-source"]}" \n                                 alt="${o.alt}" \n                                 width="${o.width}" \n                                 height="${o.height}">\n                        </picture>\n                    </figure>\n                    <div class="download-text">\n                        <span class="download-label">${o.label}</span>\n                        <span class="download-sub">${o.sub}</span>\n                    </div>\n                </a>`,i%2==0&&(n+=`<div class="download-row">${l}</div>`,l="")})),""!==l&&(n+=`<div class="download-row last-row">${l}</div>`),""!==n&&(n+="</div></div>"),n}(e.textContent);e.outerHTML=t,document.querySelectorAll(".download-item.multiple-links").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();!function(e){const t=window.open("","_blank");t.document.write("\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Preview Images</title>\n                <style>\n                    body { margin: 20px; background: #f5f5f5; }\n                    img { max-width: 100%; height: auto; margin: 10px 0; display: block; }\n                </style>\n            </head>\n            <body>\n        "),e.forEach((e=>{t.document.write(`<img src="${e}" alt="Preview Image">`)})),t.document.write("</body></html>"),t.document.close()}(this.getAttribute("data-links").split(";"))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataTabel"),t=e.textContent.trim().split("\n"),n=document.createElement("table");n.className="infobox";let a=[];t.forEach((e=>{if(e=e.trim())if(/^[A-Z0-9\s]+$/.test(e)&&-1===e.indexOf(":")){const t=document.createElement("tr"),a=document.createElement("th");a.colSpan=2,a.classList.add("category"),a.textContent=e,t.appendChild(a),n.appendChild(t)}else{const t=e.split(":");if(t.length>1){const e=t.shift().trim();let i=t.join(":").trim();i=function(e){let t=e;return t=t.replace(/\[\[(.*?)\]\]/g,((e,t)=>{const n=t;let i=t;const l=i.indexOf("/");return-1!==l&&(i=i.substring(0,l)),i=encodeURIComponent(i).replace(/%20/g,"%20"),a.push(-1!==l?t.substring(0,l):t),`<a href="/search/label/${i}" target="_blank">${n}</a>`})),t=t.replace(/(.*?)\s*\[(https?:\/\/.*?)\]/,((e,t,n)=>`<a href="${n}" target="_blank">${t.trim()}</a>`)),t=t.replace(/(.+?)\s*\{(.*?)\}/g,((e,t,n)=>`<a href="/p/${n}.html" target="_blank">${t.trim()}</a>`)),t}(i);const l=document.createElement("tr"),o=document.createElement("th");o.textContent=e;const s=document.createElement("td");s.innerHTML=i,l.appendChild(o),l.appendChild(s),n.appendChild(l)}}})),document.getElementById("table-container").appendChild(n),e.remove(),console.log("Label:",a.join(","))})),document.addEventListener("DOMContentLoaded",(()=>{const e=["Pembuka","Kyrie","Gloria","Mazmur Tanggapan","Persembahan","Credo","Sanctus","Pater Noster","Agnus Dei","Komuni","Syukur","Penutup"],t=(t,n)=>{const a=t.getAttribute("allowed-labels"),i=n.getAttribute("allowed-labels");return e.indexOf(a)-e.indexOf(i)},n=document.querySelector(".overflowable-contents");if(n){const a=Array.from(n.querySelectorAll(".overflowable-item"));a.forEach((t=>{const n=t.querySelector('a[rel="tag"]');if(n){const a=n.textContent.trim();e.includes(a)&&t.setAttribute("allowed-labels",a)}}));a.filter((e=>e.hasAttribute("allowed-labels"))).sort(t).forEach((e=>{n.appendChild(e)}))}const a=document.querySelector(".byline.post-labels");if(a){const n=Array.from(a.querySelectorAll('a[rel="tag"]'));n.forEach((t=>{const n=t.textContent.trim();e.includes(n)&&t.setAttribute("allowed-labels",n)}));const i=n.filter((e=>e.hasAttribute("allowed-labels"))).sort(t);n.forEach((e=>e.remove())),i.forEach(((e,t)=>{a.appendChild(e)}))}})),tryInitMenu(),document.addEventListener("DOMContentLoaded",(()=>{const e=parseMenu(document.getElementById("rawMenuList").textContent);console.log("Parsed Menu Structure:",JSON.stringify(e,null,2));const t=generateHTML(e);console.log("Generated HTML:",t);const n=document.getElementById("menu-container");n.innerHTML=t,document.getElementById("rawMenuList").remove();n.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));n.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("hymn-data").textContent;let t="",n="";const a=[];e.split("\n").forEach((e=>{if(e=e.trim())if(e.startsWith("Kode Buku:"))n=e.replace("Kode Buku:","").trim();else if(e.startsWith("Bagian:"))t=e.replace("Bagian:","").trim();else if(e.match(/^\d+:/)){const[i,...l]=e.split(":"),o=l.join(":").trim(),s=o.match(/\[(.*?)\]$/);let r=o,c="";s&&(c=s[1],r=o.substring(0,o.indexOf("[")).trim());let d="";const u=r.match(/\((.*?)\)$/);u&&(d=u[1],r=r.substring(0,r.indexOf("(")).trim()),a.push({section:t,number:`${n} ${i.trim()}`,title:r,subtitle:d,link:c})}}));const i=document.createElement("table");i.className="hymn-table";const l=document.createElement("thead");l.innerHTML="\n        <tr>\n            <th>Nomor</th>\n            <th>Judul</th>\n        </tr>\n    ",i.appendChild(l);const o=document.createElement("tbody");let s=null;a.forEach(((e,t)=>{0!==t&&e.section===a[t-1].section||(s=document.createElement("tr"),s.className="section-row",s.innerHTML=`\n                <td colspan="2" class="section-cell">${e.section}</td>\n            `,o.appendChild(s));const n=document.createElement("tr"),i=document.createElement("td");i.className="title-cell";let l="";l=e.link?`<a href="${e.link}" target="_blank">${e.title}</a>`:e.title,e.subtitle&&(l+=` <span class="subtitle">(${e.subtitle})</span>`),i.innerHTML=l,n.innerHTML=`<td class="number-cell">${e.number}</td>`,n.appendChild(i),o.appendChild(n)})),i.appendChild(o);const r=document.createElement("style");r.textContent="\n        .hymn-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 20px 0;\n        }\n        .hymn-table th, .hymn-table td {\n            padding: 8px;\n            border: 1px solid #ddd;\n        }\n        .section-cell {\n            text-align: center;\n            background-color: #f5f5f5;\n            font-weight: bold;\n        }\n        .number-cell {\n            white-space: nowrap;\n        }\n        .title-cell {\n            width: 100%;\n        }\n        .subtitle {\n            color: #666;\n            font-style: italic;\n        }\n        .hymn-table a {\n            color: #0066cc;\n            text-decoration: none;\n        }\n        .hymn-table a:hover {\n            text-decoration: underline;\n        }\n    ";const c=document.getElementById("hymn-data");c.parentNode.insertBefore(r,c),c.parentNode.replaceChild(i,c)})),function(){console.error;console.error=function(...e){}}(),window.onerror=function(e,t,n,a,i){return!0};
