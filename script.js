function showFullImage(e){const t=Array.from(document.querySelectorAll("figure.image img")),n=t.map((e=>e.src));let a=n.indexOf(e);const o=document.createElement("div");o.classList.add("image-overlay");const i=document.createElement("div");i.classList.add("image-container");const l=document.createElement("div");let s;l.classList.add("loader");let r=!1;const c=document.createElement("div");c.classList.add("image-counter");const d=document.createElement("div");d.classList.add("tooltip");const u=document.createElement("img");u.style.display="none";let m=0,p=0,h=0;const f=10,g=200;function isMobile(){return window.matchMedia("(max-width: 768px)").matches}u.onload=function(){r=!0,clearTimeout(s),l.style.display="none",u.style.display="block"},u.src=e;const b=document.createElement("button");b.innerHTML="&#10094;",b.classList.add("nav-button","prev");const v=document.createElement("button");v.innerHTML="&#10095;",v.classList.add("nav-button","next");const y=document.createElement("button");function showImage(e){e>=n.length?e=0:e<0&&(e=n.length-1),a=e,r=!1,u.style.display="none",clearTimeout(s),s=setTimeout((()=>{r||(l.style.display="block")}),100),u.src=n[a],function updateCounter(){c.textContent=`${a+1}/${n.length}`}();const o=t[a];d.textContent=o.alt,a===n.length-1?v.classList.add("last-image"):v.classList.remove("last-image"),0===a?b.classList.add("first-image"):b.classList.remove("first-image")}y.innerHTML="&#10005;",y.classList.add("close-button");let w=!1,E=isMobile()?1.5:2.5;const L=1.5;let $=null,M=0,x=0,k=0,C=!1;function applyTransform(){const{clampedX:e,clampedY:t}=function clampOffsets(e,t){const{maxOffsetX:n,maxOffsetY:a}=function getMaxOffsets(){const e=i.getBoundingClientRect(),t=u.naturalWidth*E,n=u.naturalHeight*E;if(isMobile()){return{maxOffsetX:Math.min(Math.max(0,(t-e.width)/2),u.naturalWidth*E/2),maxOffsetY:Math.min(Math.max(0,(n-e.height)/2),u.naturalHeight*E/2)}}return{maxOffsetX:0,maxOffsetY:u.naturalHeight}}(),o=Math.max(-n,Math.min(n,e)),l=Math.max(-a,Math.min(a,t));return{clampedX:o,clampedY:l}}(M,x);M=e,x=t,u.style.transform=`translate(${M}px, ${x}px) scale(${E})`}function zoomIn(){w=!0,o.classList.add("zoomed-mode"),isMobile()?u.style.transformOrigin="center center":u.style.transformOrigin="50% 0%",M=0,x=0,applyTransform()}function zoomOut(){w=!1,o.classList.remove("zoomed-mode"),u.style.transform="none",E=isMobile()?1.5:2.5}let T=0,I=0;const H=50;function handleImageTouchStart(e){if(1===e.touches.length){const t=e.touches[0];m=t.clientX,p=t.clientY,h=(new Date).getTime(),T=t.clientX,I=t.clientY;const n=(new Date).getTime(),a=n-k;k=n,a<300?(C=!0,w?zoomOut():zoomIn()):C=!1}}let S=null,O=null;function handleMouseMove(e){if(!w)return;if(null===S||null===O)return S=e.clientX,void(O=e.clientY);e.clientX;const t=e.clientY-O;S=e.clientX,O=e.clientY,x-=3*t,M=0,applyTransform()}function resetLastMousePosition(){S=null,O=null}let A=null,B=null;function handleTouchMove(e){if(w&&1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;if(null===A||null===B)return A=t,void(B=n);const a=(t-A)*L,o=(n-B)*L;A=t,B=n,M+=a,x+=o,applyTransform()}}function handleTouchEnd(e){if(A=null,B=null,$=null,!w){const t=e.changedTouches[0],n=t.clientX,o=t.clientY,l=n-m,s=o-p,r=(new Date).getTime()-h,c=Math.abs(l)<f&&Math.abs(s)<f&&r<g;if(Math.abs(l)>Math.abs(s)&&Math.abs(l)>H)showImage(l>0?a-1:a+1);else if(!C&&c){const e=i.getBoundingClientRect(),t=n-e.left,o=e.width;t<.2*o?showImage(a-1):t>.8*o&&showImage(a+1)}}}function cleanup(){clearTimeout(s),document.removeEventListener("keydown",handleKeydown),document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",resetLastMousePosition),i.removeEventListener("touchmove",handleTouchMove,{passive:!1}),i.removeEventListener("touchend",handleTouchEnd),document.body.removeChild(o)}function handleKeydown(e){w?"Escape"===e.key&&cleanup():"ArrowLeft"===e.key?showImage(a-1):"ArrowRight"===e.key?showImage(a+1):"Escape"===e.key&&cleanup()}b.addEventListener("click",(e=>{w||(e.stopPropagation(),showImage(a-1))})),v.addEventListener("click",(e=>{w||(e.stopPropagation(),showImage(a+1))})),y.addEventListener("click",(e=>{e.stopPropagation(),cleanup()})),document.addEventListener("keydown",handleKeydown),i.appendChild(l),i.appendChild(u),o.appendChild(c),o.appendChild(d),o.appendChild(b),o.appendChild(i),o.appendChild(v),o.appendChild(y),document.body.appendChild(o),o.addEventListener("click",(e=>{isMobile()||e.target!==o&&e.target!==i||cleanup()})),isMobile()?(u.addEventListener("touchstart",handleImageTouchStart,{passive:!0}),i.addEventListener("touchmove",handleTouchMove,{passive:!1}),i.addEventListener("touchend",handleTouchEnd),i.addEventListener("touchstart",(e=>{2===e.touches.length&&(e.preventDefault(),$=null)}),{passive:!1}),i.addEventListener("touchmove",(function handlePinchZoom(e){if(isMobile()&&2===e.touches.length){e.preventDefault();const t=e.touches[0],n=e.touches[1],a=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);if(null===$)return void($=a);const o=a/$;E=Math.min(Math.max(E*o,1),3),$=a,applyTransform()}}),{passive:!1})):(u.addEventListener("touchstart",handleImageTouchStart,{passive:!0}),i.addEventListener("touchmove",handleTouchMove,{passive:!1}),i.addEventListener("touchend",handleTouchEnd),u.addEventListener("click",(function handleImageClickDesktop(e){e.stopPropagation(),w?zoomOut():zoomIn()})),document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",resetLastMousePosition)),showImage(a)}function generateVideoHTML(e,t,n,a,o){return`\n    <p class="judulvideo">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Tonton di YouTube">üé¨ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${o}" title="Buka kanal YouTube">üì∫ ${a}</a></span>\n    </p>\n    <div class="video-wrapper">\n        <div class="video-placeholder" \n             data-embed-url="${n}"\n             style="background: #000; display: flex; align-items: center; justify-content: center; cursor: pointer;">\n            <div style="text-align: center; color: white;">\n                <div style="font-size: 48px;">‚ñ∂Ô∏è</div>\n                <div>Klik untuk memuat video</div>\n            </div>\n        </div>\n    </div>`}function generateAudioHTML(e,t,n,a,o){return`\n    <p class="judulaudio">\n        <span class="baris1"><a target="_blank" rel="noopener noreferrer nofollow" href="${t}" title="Dengarkan di SoundCloud">üé∂ ${e}</a></span>\n        <span class="batas"> | </span>\n        <span class="baris2"><a target="_blank" rel="noopener noreferrer nofollow" href="${a}" title="Buka kanal SoundCloud">üìª ${n}</a></span>\n    </p>\n    <div class="audio-wrapper">\n        <iframe class="audioiframe"\n            src="${o}"\n            allowfullscreen>\n        </iframe>\n    </div>`}function initializeLazyLoading(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;loadVideo(n),t.unobserve(n)}}))}),{root:null,rootMargin:"50px",threshold:.1});document.querySelectorAll(".video-placeholder").forEach((t=>{e.observe(t),t.addEventListener("click",(()=>loadVideo(t)))}))}function loadVideo(e){const t=e.dataset.embedUrl,n=document.createElement("iframe");n.className="videoiframe",n.src=t,n.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",n.referrerPolicy="strict-origin-when-cross-origin",n.playsinline=!0,n.allowFullscreen=!0,e.parentNode.replaceChild(n,e)}function initMenu(e,t){const n=document.getElementById(t),a=document.getElementById(e);if(!n||!a)return void console.error("Menu elements not found");const o=generateHTML(parseMenu(n.textContent));a.innerHTML=o,n.remove();a.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));a.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))}function tryInitMenu(){if("undefined"!=typeof Blogger){const e=setInterval((()=>{const t=document.getElementById("rawMenuList"),n=document.getElementById("menu-container");t&&n&&(clearInterval(e),initMenu("menu-container","rawMenuList"))}),100);setTimeout((()=>clearInterval(e)),1e4)}else document.addEventListener("DOMContentLoaded",(()=>{initMenu("menu-container","rawMenuList")}))}function parseMenu(e){const t=e.trim().split("\n"),n=[];let a=[n];return t.forEach(((e,t)=>{const n=e.trim().match(/^(-+)\s*([^(]+)(?:\(([^)]+)\))?$/);if(!n)return;const o=n[1].length-1,i={title:n[2].trim(),link:n[3]?n[3].trim():"#",children:[]};for(;a.length>o+1;)a.pop();a[o].push(i),a[o+1]=i.children})),n}function generateHTML(e){let t='<ul class="nav">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function generateSubmenu(e){let t='<ul class="submenu">';return e.forEach((e=>{const n=e.children&&e.children.length>0;t+=`\n          <li class="nav-item">\n            <div class="menu-title">\n              <a href="${e.link}">${e.title}</a>\n              ${n?'<span class="arrow"></span>':""}\n            </div>\n            ${n?generateSubmenu(e.children):""}\n          </li>\n        `})),t+="</ul>",t}function toggle(e,t){t.preventDefault(),t.stopPropagation();const n=e.closest(".menu-title"),a=n.closest(".nav-item");if(!a.querySelector(":scope > .submenu")){const e=n.querySelector("a").getAttribute("href");return void(e&&"#"!==e&&(window.location.href=e))}a.classList.contains("expanded")?collapseWithChildren(a):expandSubmenu(a)}function expandSubmenu(e){const t=e.querySelector(":scope > .submenu");if(!t)return;const n=e.parentElement.children;Array.from(n).forEach((t=>{t!==e&&t.classList.contains("nav-item")&&collapseWithChildren(t)})),e.classList.add("expanded"),t.classList.add("open");let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&(a.style.maxHeight="none",a.classList.add("open"),a.parentElement.classList.add("expanded")),a=a.parentElement;const o=window.innerHeight,i=o-t.getBoundingClientRect().top-20,l=getSubmenuFullHeight(t),s=Math.min(i,l);for(t.style.maxHeight=`${s}px`,t.style.opacity="1",a=e.parentElement;a;){if(a.classList.contains("submenu")){const e=getSubmenuFullHeight(a),t=a.getBoundingClientRect().top,n=Math.min(o-t-20,e);a.style.maxHeight=`${n}px`}a=a.parentElement}}function collapseWithChildren(e){const t=e.querySelectorAll(".submenu"),n=[];let a=e.parentElement;for(;a;)a.classList.contains("submenu")&&n.push(a),a=a.parentElement;t.forEach((e=>{e.style.maxHeight="0",e.style.opacity="0",e.closest(".nav-item").classList.remove("expanded")})),t.forEach((e=>{e.addEventListener("transitionend",(function handler(t){"max-height"===t.propertyName&&(e.classList.remove("open"),e.removeEventListener("transitionend",handler))}),{once:!0})})),n.forEach((e=>{const t=getSubmenuFullHeight(e);e.style.maxHeight=`${t}px`})),e.classList.remove("expanded")}function getSubmenuFullHeight(e){const t=e.cloneNode(!0);t.style.maxHeight="none",t.style.opacity="1",t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";t.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="none",e.style.opacity="1",e.style.display="block"})),document.body.appendChild(t);const n=t.scrollHeight;return document.body.removeChild(t),n}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mantab");e.innerHTML='\n        <div class="tab-wrap">\n            <input type="radio" id="tab1" name="tabGroup1" class="tab">\n            <label for="tab1"><span class="tab-text">Partitur</span><span class="tab-emoji">üéº</span></label>\n            <input type="radio" id="tab2" name="tabGroup1" class="tab">\n            <label for="tab2"><span class="tab-text">Syair</span><span class="tab-emoji">üìñ</span></label>\n            <input type="radio" id="tab3" name="tabGroup1" class="tab">\n            <label for="tab3"><span class="tab-text">Audio/Video</span><span class="tab-emoji">üéß</span></label>\n            <input type="radio" id="tab4" name="tabGroup1" class="tab">\n            <label for="tab4"><span class="tab-text">Unduh</span><span class="tab-emoji">üì•</span></label>\n            <input type="radio" id="tab5" name="tabGroup1" class="tab">\n            <label for="tab5"><span class="tab-text">Detail Lagu</span><span class="tab-emoji">‚ÑπÔ∏è</span></label>\n            \n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n            <div class="tab__content"></div>\n        </div>\n    ';const t={partitur:1,syair:2,media:3,unduh:4,info:5},n={1:"partitur",2:"syair",3:"media",4:"unduh",5:"info"};for(let a=1;a<=5;a++){const t=document.getElementById(`tab${a}-content`).content.cloneNode(!0);e.querySelectorAll(".tab__content")[a-1].appendChild(t)}function openTab(e){const t=document.getElementById(`tab${e}`);t&&(t.checked=!0)}function checkHash(){const e=window.location.hash.replace("#","");openTab(e&&t[e]?t[e]:1)}window.addEventListener("hashchange",checkHash),checkHash();e.querySelectorAll(".tab").forEach(((e,t)=>{e.addEventListener("change",(()=>{if(e.checked){const e=t+1;window.location.hash=n[e]}}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imageDataM");if(e){const t=function processPreContent(e){const t=e.trim().split(/(?=mobile-image-link:)/);let n="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),a=e.substring(0,n).trim(),o=e.substring(n+1).trim();t[a]=o.replace(/^"(.*)"$/,"$1")||null}}));const a=["mobile-image-link","width","height","alt"];for(const n of a)if(!t[n])return void console.error(`Missing required field: ${n}`);const o=t["mobile-image-link"].split("/assets/")[1].split("/")[0],i=t["mobile-image-link"].substring(0,t["mobile-image-link"].lastIndexOf("/"));let l="";t.title&&t.title.trim()&&(l=`<p class="mobile-only"><strong>${t.title}</strong></p>`);const s=`\n                ${l}\n                <figure class="image mobile-only" data-ckbox-resource-id="${o}">\n                    <picture>\n                        <source \n                            sizes="(max-width: ${t.width}px) 100vw, ${t.width}px"\n                            srcset="${function generateSrcset(e,t){const n=Math.max(80,Math.floor(.1*t));let a=[],o=n;for(;o<=t&&a.length<10;)a.push(o),o+=n;return a.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(i,parseInt(t.width))}"\n                            type="image/webp">\n                        <img src="${t["mobile-image-link"]}"\n                             alt="${t.alt}"\n                             width="${t.width}"\n                             height="${t.height}"\n                             onclick="showFullImage(this.src)">\n                    </picture>\n                </figure>`;n+=s})),n}(e.textContent);e.outerHTML=t}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imageData");if(e){const t=function processPreContent(e){const t=e.trim().split(/(?=original-image-link:)/);let n="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),a=e.substring(0,n).trim(),o=e.substring(n+1).trim();t[a]=o.replace(/^"(.*)"$/,"$1")||null}}));const a=["original-image-link","width","height","alt"];for(const n of a)if(!t[n])return void console.error(`Missing required field: ${n}`);const o=t["original-image-link"].split("/assets/")[1].split("/")[0],i=t["original-image-link"].substring(0,t["original-image-link"].lastIndexOf("/"));let l="";t.title&&t.title.trim()&&(l=`<p><strong>${t.title}</strong></p>`);const s=`\n                ${l}\n                <figure class="image" data-ckbox-resource-id="${o}">\n                    <picture>\n                        <source \n                            sizes="(max-width: ${t.width}px) 100vw, ${t.width}px"\n                            srcset="${function generateSrcset(e,t){const n=Math.max(80,Math.floor(.1*t));let a=[],o=n;for(;o<=t&&a.length<10;)a.push(o),o+=n;return a.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(i,parseInt(t.width))}"\n                            type="image/webp">\n                        <img src="${t["original-image-link"]}"\n                             alt="${t.alt}"\n                             width="${t.width}"\n                             height="${t.height}"\n                             onclick="showFullImage(this.src)">\n                    </picture>\n                </figure>`;n+=s})),n}(e.textContent);e.outerHTML=t}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataSyair"),t=e.textContent.trim().split("\n"),n=document.getElementById("syair-container"),a={REFRAIN:!1,REFREN:!1,ULANGAN:!1,INTRO:!1,CODA:!1,AYAT:!0,BAIT:!0};let o=null,i=null,l=null,s=[];function closeCurrentStructures(){if(l&&(n.appendChild(l),l=null),i&&s.length>0){const e=document.createElement("li");e.innerHTML=s.join(""),i.appendChild(e),s=[]}i&&(n.appendChild(i),i=null),o=null}function convertLine(e){const t=e.indexOf("/");if(-1!==t){return`<div class="syair-line"><span class="baris1">${e.substring(0,t).trim()}/</span> <span class="baris2">${e.substring(t+1).trim()}</span></div>`}return`<div class="syair-line"><span class="baris1">${e}</span></div>`}t.forEach((function processLine(e){if(!(e=e.trim())&&"list"===o&&s.length>0){const e=document.createElement("li");return e.innerHTML=s.join(""),i.appendChild(e),void(s=[])}if(!e)return void closeCurrentStructures();const t=e.toUpperCase();let r=!1,c=null;for(let n in a)if(t.startsWith(n+":")){r=!0,c=n;break}if(r){closeCurrentStructures();const t=document.createElement("p"),r=document.createElement("strong");r.textContent=e,t.appendChild(r),n.appendChild(t),a[c]?(i=document.createElement("ol"),o="list",s=[]):(o="para",l=document.createElement("p"))}else"list"===o?s.push(convertLine(e)):("para"===o||l||(l=document.createElement("p")),l.innerHTML+=convertLine(e))})),closeCurrentStructures(),e.remove()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".media-source"),t=document.getElementById("media-container");let n="";const a=e.innerHTML.split("\n").map((e=>e.trim())).filter((e=>e));for(let o=0;o<a.length;o+=2){const e=a[o],t=a[o+1];if(e.startsWith("Video:")){const a=e.match(/Video: (.*?) \[(.*?)\]/),o=t.match(/Kanal: (.*?) \[(.*?)\]/);if(a&&o){const[e,t,i]=a,[l,s,r]=o,c=`https://youtube.com/embed/${i}`;n+=generateVideoHTML(t,`https://www.youtube.com/watch?v=${i.split("?")[0]}`,c,s,`https://www.youtube.com/${r}`)}}else if(e.startsWith("Audio:")){const a=e.match(/Audio: (.*?) \[(.*?)\]/),o=t.match(/Kanal: (.*?) \[(.*?)\]/);if(a&&o){const[e,t,i]=a,[l,s,r]=o,c=`https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${i}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;n+=generateAudioHTML(t,`https://soundcloud.com/${r}`,s,`https://soundcloud.com/${r.split("/")[0]}`,c)}}}t.innerHTML=n,e.remove(),initializeLazyLoading()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("download-tab");if(e){const t=function processPreContent(e){const t=e.trim().split(/(?=unduh-link:)/);let n="",a="",o=0,i="";return t.forEach((e=>{if(!e.trim())return;const t={};e.trim().split("\n").forEach((e=>{if((e=e.trim()).includes(":")){const n=e.indexOf(":"),a=e.substring(0,n).trim(),o=e.substring(n+1).trim();t[a]=o.replace(/^"(.*)"$/,"$1")||null}}));const l={"unduh-link":t["unduh-link"]||"#","preview-source":t["preview-source"]||"https://placehold.co/200x300",width:t.width||"2481",height:t.height||"3508",alt:t.alt||"No description available",label:t.label||"Download",sub:t.sub||""};if(t["judul-lagu"])return void(a=t["judul-lagu"]);const s=l["preview-source"].substring(0,l["preview-source"].lastIndexOf("/"));""===n&&(n=`\n                <div id="download-section">\n                    <h2>Unduh Partitur</h2>\n                    <p class="unduh-description">\n                    <span class="baris1">Pilih format yang sesuai </span><span class="baris1">untuk mengunduh partitur lagu </span><span class="baris2"><strong>${a}</strong>.</span>\n                    </p>\n                    <div class="download-grid">`),o++;const r=l["unduh-link"].split(";").map((e=>e.trim())),c=r.length>1;i+=c?`<a href="javascript:void(0)" \n                    data-links="${r.join(";")}"\n                    title="${l.alt}" \n                    class="download-item multiple-links">`:`<a href="${l["unduh-link"]}" \n                    target="_blank" \n                    rel="noopener noreferrer" \n                    title="${l.alt}" \n                    class="download-item">`,i+=`\n                    <figure class="unduh-preview">\n                        <picture>\n                            <source sizes="(max-width: ${t.width}px) 100vw, ${t.width}px" \n                                    srcset="${function generateSrcset(e,t){const n=Math.max(80,Math.floor(.1*t));let a=[],o=n;for(;o<=t&&a.length<10;)a.push(o),o+=n;return a.map((t=>`${e}/${t}.webp ${t}w`)).join(",")}(s,parseInt(t.width))}"\n                                    type="image/webp">\n                            <img src="${l["preview-source"]}" \n                                 alt="${l.alt}" \n                                 width="${l.width}" \n                                 height="${l.height}">\n                        </picture>\n                    </figure>\n                    <div class="download-text">\n                        <span class="download-label">${l.label}</span>\n                        <span class="download-sub">${l.sub}</span>\n                    </div>\n                </a>`,o%2==0&&(n+=`<div class="download-row">${i}</div>`,i="")})),""!==i&&(n+=`<div class="download-row last-row">${i}</div>`),""!==n&&(n+="</div></div>"),n}(e.textContent);e.outerHTML=t,document.querySelectorAll(".download-item.multiple-links").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();!function createImagePage(e){const t=window.open("","_blank");t.document.write("\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Preview Images</title>\n                <style>\n                    body { margin: 20px; background: #f5f5f5; }\n                    img { max-width: 100%; height: auto; margin: 10px 0; display: block; }\n                </style>\n            </head>\n            <body>\n        "),e.forEach((e=>{t.document.write(`<img src="${e}" alt="Preview Image">`)})),t.document.write("</body></html>"),t.document.close()}(this.getAttribute("data-links").split(";"))}))}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("rawDataTabel"),t=e.textContent.trim().split("\n"),n=document.createElement("table");n.className="infobox";let a=[];t.forEach((e=>{if(e=e.trim())if(/^[A-Z0-9\s]+$/.test(e)&&-1===e.indexOf(":")){const t=document.createElement("tr"),a=document.createElement("th");a.colSpan=2,a.classList.add("category"),a.textContent=e,t.appendChild(a),n.appendChild(t)}else{const t=e.split(":");if(t.length>1){const e=t.shift().trim();let o=t.join(":").trim();o=function processLinks(e){let t=e;return t=t.replace(/\[\[(.*?)\]\]/g,((e,t)=>{const n=t;let o=t;const i=o.indexOf("/");return-1!==i&&(o=o.substring(0,i)),o=encodeURIComponent(o).replace(/%20/g,"%20"),a.push(-1!==i?t.substring(0,i):t),`<a href="/search/label/${o}" target="_blank">${n}</a>`})),t=t.replace(/(.*?)\s*\[(https?:\/\/.*?)\]/,((e,t,n)=>`<a href="${n}" target="_blank">${t.trim()}</a>`)),t=t.replace(/(.+?)\s*\{(.*?)\}/g,((e,t,n)=>`<a href="/p/${n}.html" target="_blank">${t.trim()}</a>`)),t}(o);const i=document.createElement("tr"),l=document.createElement("th");l.textContent=e;const s=document.createElement("td");s.innerHTML=o,i.appendChild(l),i.appendChild(s),n.appendChild(i)}}})),document.getElementById("table-container").appendChild(n),e.remove(),console.log("Label:",a.join(","))})),document.addEventListener("DOMContentLoaded",(()=>{const e=["Pembuka","Kyrie","Gloria","Mazmur Tanggapan","Persembahan","Credo","Sanctus","Pater Noster","Agnus Dei","Komuni","Syukur","Penutup"],sortByAllowedLabels=(t,n)=>{const a=t.getAttribute("allowed-labels"),o=n.getAttribute("allowed-labels");return e.indexOf(a)-e.indexOf(o)},t=document.querySelector(".overflowable-contents");if(t){const n=Array.from(t.querySelectorAll(".overflowable-item"));n.forEach((t=>{const n=t.querySelector('a[rel="tag"]');if(n){const a=n.textContent.trim();e.includes(a)&&t.setAttribute("allowed-labels",a)}}));n.filter((e=>e.hasAttribute("allowed-labels"))).sort(sortByAllowedLabels).forEach((e=>{t.appendChild(e)}))}const n=document.querySelector(".byline.post-labels");if(n){const t=Array.from(n.querySelectorAll('a[rel="tag"]'));t.forEach((t=>{const n=t.textContent.trim();e.includes(n)&&t.setAttribute("allowed-labels",n)}));const a=t.filter((e=>e.hasAttribute("allowed-labels"))).sort(sortByAllowedLabels);t.forEach((e=>e.remove())),a.forEach(((e,t)=>{n.appendChild(e)}))}})),tryInitMenu(),document.addEventListener("DOMContentLoaded",(()=>{const e=parseMenu(document.getElementById("rawMenuList").textContent);console.log("Parsed Menu Structure:",JSON.stringify(e,null,2));const t=generateHTML(e);console.log("Generated HTML:",t);const n=document.getElementById("menu-container");n.innerHTML=t,document.getElementById("rawMenuList").remove();n.querySelectorAll(".submenu").forEach((e=>{e.style.maxHeight="0",e.style.opacity="0"}));n.querySelectorAll(".menu-title").forEach((e=>{e.addEventListener("click",(t=>toggle(e,t)))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("hymn-data").textContent;let t="",n="";const a=[];e.split("\n").forEach((e=>{if(e=e.trim())if(e.startsWith("Kode Buku:"))n=e.replace("Kode Buku:","").trim();else if(e.startsWith("Bagian:"))t=e.replace("Bagian:","").trim();else if(e.match(/^\d+:/)){const[o,...i]=e.split(":"),l=i.join(":").trim(),s=l.match(/\[(.*?)\]$/);let r=l,c="";s&&(c=s[1],r=l.substring(0,l.indexOf("[")).trim());let d="";const u=r.match(/\((.*?)\)$/);u&&(d=u[1],r=r.substring(0,r.indexOf("(")).trim()),a.push({section:t,number:`${n} ${o.trim()}`,title:r,subtitle:d,link:c})}}));const o=document.createElement("table");o.className="hymn-table";const i=document.createElement("thead");i.innerHTML="\n        <tr>\n            <th>Nomor</th>\n            <th>Judul</th>\n        </tr>\n    ",o.appendChild(i);const l=document.createElement("tbody");let s=null;a.forEach(((e,t)=>{0!==t&&e.section===a[t-1].section||(s=document.createElement("tr"),s.className="section-row",s.innerHTML=`\n                <td colspan="2" class="section-cell">${e.section}</td>\n            `,l.appendChild(s));const n=document.createElement("tr"),o=document.createElement("td");o.className="title-cell";let i="";i=e.link?`<a href="${e.link}" target="_blank">${e.title}</a>`:e.title,e.subtitle&&(i+=` <span class="subtitle">(${e.subtitle})</span>`),o.innerHTML=i,n.innerHTML=`<td class="number-cell">${e.number}</td>`,n.appendChild(o),l.appendChild(n)})),o.appendChild(l);const r=document.createElement("style");r.textContent="\n        .hymn-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin: 20px 0;\n        }\n        .hymn-table th, .hymn-table td {\n            padding: 8px;\n            border: 1px solid #ddd;\n        }\n        .section-cell {\n            text-align: center;\n            background-color: #f5f5f5;\n            font-weight: bold;\n        }\n        .number-cell {\n            white-space: nowrap;\n        }\n        .title-cell {\n            width: 100%;\n        }\n        .subtitle {\n            color: #666;\n            font-style: italic;\n        }\n        .hymn-table a {\n            color: #0066cc;\n            text-decoration: none;\n        }\n        .hymn-table a:hover {\n            text-decoration: underline;\n        }\n    ";const c=document.getElementById("hymn-data");c.parentNode.insertBefore(r,c),c.parentNode.replaceChild(o,c)})),function(){console.error;console.error=function(...e){}}(),window.onerror=function(e,t,n,a,o){return!0};
